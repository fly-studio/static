var LoadingUI=function(e){function t(){e.call(this),this.onConfigCompleteCallback=null,this.onGroupCompleteCallback=null,this.groupName=null,this.createView()}__extends(t,e);var o=(__define,t),n=o.prototype;return n.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},n.setProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},n.loadConfig=function(e,t){RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.CONFIG_LOAD_ERROR,this.onConfigLoadErr,this),this.onConfigCompleteCallback=t;for(var o=0;o<e.length;o++)RES.loadConfig(e[o],e[o].replace(/\\/g,"/").replace(/\/[^\/]*\/?$/,"")+"/")},n.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),this.onConfigCompleteCallback&&this.onConfigCompleteCallback.call(this,[e])},n.onConfigLoadErr=function(e){},n.loadGroup=function(e,t){RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.groupName=e,this.onGroupCompleteCallback=t,RES.loadGroup(e)},n.onResourceLoadComplete=function(e){e.groupName==this.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.onGroupCompleteCallback&&this.onGroupCompleteCallback.call(this,[e,this.groupName]))},n.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")},n.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},n.onResourceProgress=function(e){e.groupName==this.groupName&&this.setProgress(e.itemsLoaded,e.itemsTotal)},t}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");