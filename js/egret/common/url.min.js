var url;!function(e){var r={};r.http_build_query=function(e,t,n){var o,a,u=[],s=function(e,t,n){var o,a=[];if(t===!0?t="1":t===!1&&(t="0"),null!==t){if("object"==typeof t){for(o in t)null!==t[o]&&a.push(s(e+"["+o+"]",t[o],n));return a.join(n)}if("function"!=typeof t)return r.urlencode(e)+"="+r.urlencode(t);throw new Error("There was an error processing for http_build_query().")}return""};n||(n="&");for(a in e){o=e[a],t&&!isNaN(a)&&(a=String(t)+a);var p=s(a,o,n);""!==p&&u.push(p)}return u.join(n)},r.urlencode=function(e){return e+="",encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},r.urldecode=function(e){return decodeURIComponent((e+"").replace(/%(?![\da-f]{2})/gi,function(){return"%25"}).replace(/\+/g,"%20"))};for(var t in r)e[t]=r[t],egret.registerClass(r[t],"url."+t)}(url||(url={}));var url;!function(e){var r={};r.query=function(t,n,o){"string"==typeof t&&(n.url=t,t=n||{},n=o);var a=new egret.HttpRequest;a.responseType=t.dataType||egret.HttpResponseType.TEXT,a.open(t.url,t.method||egret.HttpMethod.GET);for(var u in t.headers||{})a.setRequestHeader(u,t.header[u]);t.method==egret.HttpMethod.POST&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");var s=t.data||{};return"string"!=typeof s&&(s=e.http_build_query(s)),a.send(s),r._httpRequest(a,t,n)},r._httpRequest=function(e,r,t){return e.addEventListener(egret.Event.COMPLETE,function(e){var n=e.currentTarget;r.success&&r.success.call(t,JSON.parse(n.response),n.getAllResponseHeaders(),n)},t),e.addEventListener(egret.IOErrorEvent.IO_ERROR,function(e){r.error&&r.error.call(t,e)},t),e.addEventListener(egret.ProgressEvent.PROGRESS,function(e){r.progress&&r.progress(t,e.bytesLoaded,e.bytesTotal)},t),e},r.upload=function(e,t,n){"string"==typeof e&&(t.url=e,e=t||{},t=n);var o=new egret.HttpRequest;o.responseType=e.dataType||egret.HttpResponseType.TEXT,o.open(e.url,egret.HttpMethod.POST);for(var a in e.headers||{})o.setRequestHeader(a,e.header[a]);var u="----FormBoundary"+(1e8*Math.rand()).toString(16);o.setRequestHeader("Content-Type","Content-Type:multipart/form-data; boundary="+u);var s="";for(var a in e.data)s+="--"+u+'\nContent-Disposition: form-data; name="'+a+'"\n\n'+e.data[a];return o.send(s),r._httpRequest(o,e,t)},r.get=function(e,t,n,o){return r.query({url:e,data:t,method:egret.HttpMethod.GET,success:n},o)},r.post=function(e,t,n,o){return r.query({url:e,data:t,method:egret.HttpMethod.POST,success:n},o)};for(var t in r)e[t]=r[t],egret.registerClass(r[t],"url."+t)}(url||(url={}));