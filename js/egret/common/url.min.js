var hasOwnProperty=Object.prototype.hasOwnProperty,isEmpty=function(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;for(var r in e)if(hasOwnProperty.call(e,r))return!1;return!0},url;!function(e){var r={};r.http_build_query=function(e,t,n){var o,u,a=[],s=function(e,t,n){var o,u=[];if(t===!0?t="1":t===!1&&(t="0"),null!==t){if("object"==typeof t){for(o in t)null!==t[o]&&u.push(s(e+"["+o+"]",t[o],n));return u.join(n)}if("function"!=typeof t)return r.urlencode(e)+"="+r.urlencode(t);throw new Error("There was an error processing for http_build_query().")}return""};n||(n="&");for(u in e){o=e[u],t&&!isNaN(u)&&(u=String(t)+u);var p=s(u,o,n);""!==p&&a.push(p)}return a.join(n)},r.urlencode=function(e){return e+="",encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},r.urldecode=function(e){return decodeURIComponent((e+"").replace(/%(?![\da-f]{2})/gi,function(){return"%25"}).replace(/\+/g,"%20"))};for(var t in r)e[t]=r[t],egret.registerClass(r[t],"url."+t)}(url||(url={}));var url;!function(e){var r={};r._httpRequest=function(e,r,t){return e.addEventListener(egret.Event.COMPLETE,function(e){var n=e.currentTarget;r.success&&r.success.call(t,JSON.parse(n.response),n.getAllResponseHeaders(),n)},t),e.addEventListener(egret.IOErrorEvent.IO_ERROR,function(e){r.error&&r.error.call(t,e)},t),e.addEventListener(egret.ProgressEvent.PROGRESS,function(e){r.progress&&r.progress(t,e.bytesLoaded,e.bytesTotal)},t),e},r.query=function(t,n,o){"string"==typeof t&&(n.url=t,t=n||{},n=o);var u=new egret.HttpRequest;u.responseType=t.dataType||egret.HttpResponseType.TEXT,u.open(t.url,t.method||egret.HttpMethod.GET);for(var a in t.headers||{})u.setRequestHeader(a,t.header[a]);t.method==egret.HttpMethod.POST&&u.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");var s=t.data||{};return"string"!=typeof s&&(s=e.http_build_query(s)),u.send(s),r._httpRequest(u,t,n)},r.upload=function(e,t,n){"string"==typeof e&&(t.url=e,e=t||{},t=n);var o=new egret.HttpRequest;o.responseType=e.dataType||egret.HttpResponseType.TEXT,o.open(e.url,egret.HttpMethod.POST);for(var u in e.headers||{})o.setRequestHeader(u,e.header[u]);var a="----FormBoundary"+(1e8*Math.rand()).toString(16);o.setRequestHeader("Content-Type","Content-Type:multipart/form-data; boundary="+a);var s="";for(var u in e.data)s+="--"+a+'\nContent-Disposition: form-data; name="'+u+'"\n\n'+e.data[u];return o.send(s),r._httpRequest(o,e,t)},r.get=function(e,t,n,o){return r.query({url:e,data:t,method:egret.HttpMethod.GET,success:n},o)},r.post=function(e,t,n,o){return r.query({url:e,data:t,method:egret.HttpMethod.POST,success:n},o)};for(var t in r)e[t]=r[t],egret.registerClass(r[t],"url."+t)}(url||(url={}));