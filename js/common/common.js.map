{"version":3,"sources":["utils.js","polyfill.js","query.js"],"names":["probability_rand","arr","result","sum","k","parseFloat","randNum","rand","v","bytesToSize","bytes","sizes","i","Math","floor","log","pow","toPrecision","base","derive","baseSprite","baseArgs","r","apply","prop","prototype","proto","constructor","clone","obj","o","Array","len","length","push","j","min","max","argc","arguments","Error","random","print_r","array","return_val","output","pad_char","pad_val","getFuncName","this","window","document","fn","name","exec","repeat_char","str","formatArray","cur_depth","base_pad","thick_pad","key","Object","toString","call","undefined","alert","array_change_key_case","cs","caseFnc","tmpArr","serialize","mixedValue","val","okey","ktype","vals","count","_utf8Size","size","l","code","charCodeAt","_getType","inp","match","cons","types","type","toLowerCase","round","hasOwnProperty","parseInt","unserialize","data","$global","global","utf8Overhead","chr","zeroCodes","indexOf","error","msg","filename","line","readUntil","offset","stopchr","buf","slice","join","readChrs","_unserialize","dtype","dataoffset","keyandchrs","keys","contig","readdata","readData","ccount","stringlength","kprops","kchrs","vprops","vchrs","value","chrs","typeconvert","x","flash_version","c","d","a","b","navigator","plugins","e","description","mimeTypes","f","enabledPlugin","g","ActiveXObject","GetVariable","h","resizeImg","img","maxWidth","maxHeight","jQuery","css","HeightWidth","offsetHeight","offsetWidth","WidthHeight","width","height","thiscript","currentScript","scripts","getElementsByTagName","baseuri","src","replace","OS","is_phone","test","userAgent","ios","android","symbian","blackberry","webos","wp","wechat","supportTransition","s","createElement","style","window_size","innerWidth","documentElement","clientWidth","body","innerHeight","clientHeight","JSEncrypt","sessionStorage","getRSAKey","rsa","getItem","JSON","parse","crypt","default_key_size","getKey","private","getPrivateKey","public","getPublicKey","setItem","stringify","ssl","encrypt","text","setKey","decrypt","t","n","console","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","id","setTimeout","clearTimeout","searchElement","fromIndex","TypeError","abs","Infinity","forEach","func","thisp","map","fun","res","isNaN","String","repeat","orginal","substr","toHTML","Number","toPre","noHTML","aLength","pad","pad_length","pad_string","pad_type","pad_to_go","half","str_pad_repeater","collect","input","ceil","number_format","decimals","dec_point","thousands_sep","number","isFinite","prec","sep","dec","toFixedFix","toFixed","split","toDate","format_string","y","m","ms","w","array_week","array_month","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","getDay","toLocaleDateString","toLocaleTimeString","toLocaleString","toTimeString","toCountDownString","count_down_ms","location","query","param","params","deparam","querystring","$","isUndefined","isjQuery","confirm_callback","$dfd","Deferred","alert_interface","isFunction","resolve","promise","prompt","cancel_callback","_confirm","_cancel","reject","prompt_interface","tips","timeout","tips_interface","confirm","confirm_interface","extend","checkAll","$selector","on","checked_length","filter","checked","indeterminate","add","each","count_down","format","delta","duration","interval","clearInterval","count-down-delta","count-down-format","$this","count_down_method","target","cd","is","html","triggerHandler","setInterval","QUERY_LANGUAGE","reload","redirect","unselected","network_timeout","parser_error","server_error","encrypt_key","encrypt_js","encrypt_string","encrypt_unserialize","csrf","attr","headers","encodeURIComponent","ajaxSetup","dataFilter","jsonError","content","message","title","json","parseJSON","encrypted_json","stack","encrypted","base64js","toByteArray","aesjs","util","convertBytesToString","keyBytes","ivBytes","iv","valueBytes","aesCbc","ModeOfOperation","cbc","decryptedBytes","decypted","debug","url","method","alert_it","_this","_result","_headers","_data","_method","_token","ajax","async","cache","toUpperCase","dataType","success","textStatus","jqXHR","showtips","XMLHttpRequest","errorThrown","GET","POST","PUT","DELETE","HEAD","PATCH","config","_tips","_redirect","showtips_interface","self","href","show_loading","is_form","validator","settings","submitHandler","selector","isEmptyObject","invalid","serializeArray","$doms","$t","left","top","appendTo","always","remove","removeAttr","stopImmediatePropagation"],"mappings":"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","file":"../common.js","sourcesContent":["/**\r\n * @author Fly Mirage\r\n * \r\n */\r\n(function(){\r\n\t//base uri\r\n\tvar thiscript = document.currentScript;\r\n\tif (!document.currentScript)\r\n\t{\r\n\t\tvar scripts = document.getElementsByTagName(\"script\");\r\n\t\tthiscript = scripts[ scripts.length - 1 ];\r\n\t}\r\n\twindow.baseuri = thiscript.src.toString().match(/[^\\/:](\\/.*)static\\/js\\/common\\.js/i) ? thiscript.src.toString().match(/[^\\/:](\\/.*)static\\/js\\/common\\.js/i)[1] : thiscript.src.toString().replace(/\\\\/g, '/').replace(/\\/[^\\/]*\\/?$/, '') + '/';\r\n\tif (!window.baseuri) window.baseuri = '/';if (jQuery) jQuery.baseuri = window.baseuri;\r\n\r\n})();\r\n(function(){\r\n\t//OS\r\n\twindow.OS = {\r\n\t\tis_phone : /(Android|webOS|iPhone|Windows\\sPhone|iPod|BlackBerry|SymbianOS)/i.test(navigator.userAgent),\r\n\t\tios : /(iPod|iPhone|iPad)/i.test(navigator.userAgent),\r\n\t\tandroid : /Android/i.test(navigator.userAgent),\r\n\t\tsymbian : /SymbianOS/i.test(navigator.userAgent),\r\n\t\tblackberry : /BlackBerry/i.test(navigator.userAgent),\r\n\t\twebos : /webOS/i.test(navigator.userAgent),\r\n\t\twp : /Windows\\sPhone/i.test(navigator.userAgent),\r\n\t\twechat : /MicroMessenger/i.test(navigator.userAgent)\r\n\t};\r\n\t//supportTransition\r\n\twindow.supportTransition = (function(){\r\n\t\tvar s = document.createElement('p').style,\r\n\t\tr = 'transition' in s ||\r\n\t\t\t'WebkitTransition' in s ||\r\n\t\t\t'MozTransition' in s ||\r\n\t\t\t'msTransition' in s ||\r\n\t\t\t'OTransition' in s;\r\n\t\ts = null;\r\n\t\treturn r;\r\n\t})();\r\n\t/* Gets window width cross browser */\r\n\twindow.window_size = function(){\r\n\t\treturn {'width' : window.innerWidth\r\n\t\t\t\t|| document.documentElement.clientWidth\r\n\t\t\t\t|| document.body.clientWidth,\r\n\t\t\t\t'height' : window.innerHeight\r\n\t\t\t\t|| document.documentElement.clientHeight\r\n\t\t\t\t|| document.body.clientHeight,\r\n\t\t\t};\r\n\t};\r\n})();\r\n(function(){\r\n\t//ssl\r\n\tif (typeof JSEncrypt != 'undefined' && window.sessionStorage) {\r\n\t\tvar getRSAKey = function() {\r\n\t\t\tvar rsa = window.sessionStorage.getItem('l+rsa');\r\n\t\t\tif (rsa) rsa = JSON.parse(rsa);\r\n\t\t\tif (!rsa)\r\n\t\t\t{\r\n\t\t\t\tvar crypt = new JSEncrypt({default_key_size:1024});\r\n\t\t\t\tvar key = crypt.getKey();\r\n\r\n\t\t\t\trsa = {\r\n\t\t\t\t\tprivate: key.getPrivateKey(),\r\n\t\t\t\t\tpublic: key.getPublicKey(),\r\n\t\t\t\t};\r\n\t\t\t\twindow.sessionStorage.setItem('l+rsa',JSON.stringify(rsa));\r\n\t\t\t}\r\n\t\t\treturn rsa;\r\n\t\t};\r\n\t\twindow.ssl = (new function()\r\n\t\t{\r\n\t\t\tthis.rsa = getRSAKey();\r\n\t\t\tthis.encrypt = function(text) {\r\n\t\t\t\tvar crypt = new JSEncrypt();\r\n\t\t\t\tcrypt.setKey(this.rsa.public);\r\n\t\t\t\treturn crypt.encrypt(text);\r\n\t\t\t}\r\n\t\t\tthis.decrypt = function(text) {\r\n\t\t\t\tvar crypt = new JSEncrypt();\r\n\t\t\t\tcrypt.setKey(this.rsa.private);\r\n\t\t\t\treturn crypt.decrypt(text);\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (jQuery) jQuery.ssl = window.ssl;\r\n\t}\r\n})();\r\n\r\n/**\r\n * 此函数主要是为了计算概率，用于出奖\r\n * probability_rand({'iPhone': 1, 'iPad': 0, '代金券': 100, '无奖': 1000});\r\n * iPhone的概率为 1 / (1 + 0 + 100 + 1000); 基本很难中奖 :P\r\n * 按照概率返回Key\r\n * \r\n * @param  {Object} arr 概率表，参考上例\r\n * @return {String}     返回Key\r\n */\r\nfunction probability_rand(arr) { \r\n\tvar result = false; \r\n\t//概率数组的总概率精度 \r\n\tvar sum = 0;\r\n\tfor (var k in arr) sum += parseFloat(arr[k]);\r\n\t//arsort($arr);\r\n\t//概率数组循环 \r\n\tfor (k in arr) { \r\n\t\tvar randNum = rand(1, sum);\r\n\t\tvar v = parseFloat(arr[k]);\r\n\t\tif (randNum <= v) {\r\n\t\t\tresult = k;\r\n\t\t\tbreak; \r\n\t\t} else {\r\n\t\t\tsum -= v;\r\n\t\t}\r\n\t} \r\n\treturn result; \r\n}\r\n\r\n/**\r\n * 字节转义为可阅读的MB/GB等\r\n * \r\n * @param  {Number} bytes 字节数\r\n * @return {String}\r\n */\r\nfunction bytesToSize(bytes) {\r\n\tif (bytes === 0) return '0 B';\r\n\tvar k = 1024, sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\r\n\ti = Math.floor(Math.log(bytes) / Math.log(k));\r\n\treturn (bytes / Math.pow(k, i)).toPrecision(3) + ' ' + sizes[i];\r\n}","\r\n/**\r\n * Avoid `console` errors in browsers that lack a console \r\n * IE 6,7没有console，此处仅仅为了修复报错。\r\n */\r\n(function(){var e;var t=function(){};var n=[\"assert\",\"clear\",\"count\",\"debug\",\"dir\",\"dirxml\",\"error\",\"exception\",\"group\",\"groupCollapsed\",\"groupEnd\",\"info\",\"log\",\"markTimeline\",\"profile\",\"profileEnd\",\"table\",\"time\",\"timeEnd\",\"timeStamp\",\"trace\",\"warn\"];var r=n.length;var i=window.console=window.console||{};while(r--){e=n[r];if(!i[e]){i[e]=t;}}})();\r\n// 解决浏览器无requestAnimationFrame的情况\r\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\r\n// requestAnimationFrame polyfill by Erik Möller. fixes from Paul Irish and Tino Zijdel\r\n// MIT license\r\n(function() {\r\n\tvar lastTime = 0;\r\n\tvar vendors = ['ms', 'moz', 'webkit', 'o'];\r\n\tfor (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n\t\twindow.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n\t\twindow.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n\t}\r\n\tif (!window.requestAnimationFrame) window.requestAnimationFrame = function(callback, element) {\r\n\t\tvar currTime = new Date().getTime();\r\n\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n\t\tvar id = window.setTimeout(function() {\r\n\t\t\tcallback(currTime + timeToCall);\r\n\t\t}, timeToCall);\r\n\t\tlastTime = currTime + timeToCall;\r\n\t\treturn id;\r\n\t};\r\n\tif (!window.cancelAnimationFrame) window.cancelAnimationFrame = function(id) {\r\n\t\tclearTimeout(id);\r\n\t};\r\n}());\r\n/**\r\n * 模拟继承\r\n *\r\n * 基类 function A(){}; A.protype.setXX = function(){};\r\n * 子类\r\n * function B(){\r\n * \t\t base(this, A, []); //加载第一行，表示继承a类\r\n * \t\t ...\r\n * };\r\n * var b = new B(); b.setXX(); //可以使用父级的方法\r\n * \r\n * @param  {Object} derive     子类，一般为this\r\n * @param  {Object} baseSprite 基类\r\n * @param  {Object} baseArgs   需要传递的参数\r\n */\r\nfunction base(derive, baseSprite, baseArgs){  \r\n\tvar r = baseSprite.apply(derive, baseArgs);\r\n\t  \r\n\tfor(var prop in baseSprite.prototype){  \r\n\t\tvar proto = derive.constructor.prototype;  \r\n\t\tif(!proto[prop])\r\n\t\t\tproto[prop] = baseSprite.prototype[prop];   \r\n\t}\r\n\treturn r;  \r\n}\r\n/**\r\n * Clone 一个Object，类似PHP等语言的clone\r\n * 类似于上例base\r\n * \r\n * @param  {Object} obj 源\r\n * @return {Object}     \r\n */\r\nfunction clone(obj) {\r\n\tvar o;\r\n\tif (typeof obj == \"object\") {\r\n\t\tif (obj === null) {\r\n\t\t\to = null;\r\n\t\t} else {\r\n\t\t\tif (obj instanceof Array) {\r\n\t\t\t\to = [];\r\n\t\t\t\tfor (var i = 0, len = obj.length; i < len; i++)\r\n\t\t\t\t\to.push(clone(obj[i]));\r\n\t\t\t} else {\r\n\t\t\t\to = {};\r\n\t\t\t\tfor (var j in obj)\r\n\t\t\t\t\to[j] = clone(obj[j]);\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\to = obj;\r\n\t}\r\n\treturn o;\r\n}\r\n/**\r\n * 返回min~max之间的随机整数\r\n * \r\n * @param  {Int} min 最小随机范围\r\n * @param  {Int} max 最大随机范围\r\n * @return {Int}\r\n */\r\nfunction rand(min, max) {\r\n  var argc = arguments.length;\r\n  if (argc === 0) {\r\n\tmin = 0;\r\n\tmax = 2147483647;\r\n  } else if (argc === 1) {\r\n\tthrow new Error('Warning: rand() expects exactly 2 parameters, 1 given');\r\n  }\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n/**\r\n * 查找数组中的项，返回下标，没有找到返回-1\r\n * [1,2,3].indexOf(2);  ==> 1\r\n */\r\nif (!Array.prototype.indexOf) {\r\n\tArray.prototype.indexOf = function (searchElement, fromIndex) {\r\n\t\tif ( this === undefined || this === null ) {\r\n\t\t\tthrow new TypeError( '\"this\" is null or not defined' );\r\n\t\t}\r\n\t\tvar length = this.length >>> 0; // Hack to convert object.length to a UInt32\r\n\t\tfromIndex = +fromIndex || 0;\r\n\t\tif (Math.abs(fromIndex) === Infinity) {\r\n\t\t\tfromIndex = 0;\r\n\t\t}\r\n\t\tif (fromIndex < 0) {\r\n\t\t\tfromIndex += length;\r\n\t\t\tif (fromIndex < 0) {\r\n\t\t\t\tfromIndex = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (;fromIndex < length; fromIndex++) {\r\n\t\t\tif (this[fromIndex] === searchElement)\r\n\t\t\t\treturn fromIndex;\r\n\t\t}\r\n\t\treturn -1;\r\n\t};\r\n}\r\n/**\r\n * 循环数组中的项，遇到return false则停止循环\r\n * \r\n * [1,2,3].forEach(function(value, key, arr){\r\n * \t\t//return false\r\n * });\r\n */\r\nif (!Array.prototype.forEach) {\r\n\tArray.prototype.forEach = function(func /*, thisp*/) {\r\n\t\tif (typeof func != \"function\") throw new TypeError();\r\n\t\tvar thisp = arguments[1];\r\n\t\tfor (var i = 0, n = this.length; i < n; i++) {\r\n\t\t\tif (i in this)\r\n\t\t\t\tif (func.apply(thisp, [this[i], i, this]) === false) break;\r\n\t\t}\r\n\t};\r\n}\r\n/**\r\n * 循环数组中的项，并可以修改其值，然后返回新数据\r\n * var result = [1,2,3].forEach(function(value, key, arr){\r\n * \t\treturn value * 2;\r\n * });\r\n * 返回 [2,4,6]\r\n */\r\nif (!Array.prototype.map) {\r\n\tArray.prototype.map = function(fun /*, thisp*/) {\r\n\t\tvar len = this.length;\r\n\t\tif (typeof fun != \"function\")\r\n\t\t\tthrow new TypeError();\r\n\t\r\n\t\tvar res = new Array(len);\r\n\t\tvar thisp = arguments[1];\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\tif (i in this)\r\n\t\t\t\tres[i] = fun.call(thisp, this[i], i, this);\r\n\t\t}\r\n\t\treturn res;\r\n\t};\r\n}\r\n/**\r\n * 数组中数字相加的总数\r\n * [1,2,3].sum();\r\n * 返回 6\r\n */\r\nif (!Array.prototype.sum) {\r\n\tArray.prototype.sum = function() {\r\n\t\tvar sum = 0;\r\n\t\tfor (var key in this) {\r\n\t\t\tif (!isNaN(parseFloat(this[key])))\r\n\t\t\t\tsum += parseFloat(this[key]);\r\n\t\t}\r\n\t\treturn sum;\r\n\t};\r\n}\r\n/**\r\n * 重复本字符串\r\n * var str = '123'.repeat(5);\r\n * 返回 '123123123123123'\r\n * \r\n * @param  {Number} len 循环次数\r\n * @return {String}\r\n */\r\nif (!String.prototype.repeat) {\r\n\tString.prototype.repeat = function(len) {\r\n\t\tvar orginal = this;\r\n\t\tvar str = this;\r\n\t\twhile (str.length < len) {\r\n\t\t\tstr += orginal;\r\n\t\t}\r\n\t\tstr = str.substr(0, len);\r\n\t\treturn str;\r\n\t};\r\n}\r\n/**\r\n * 将一个Array或者Object按树形结构alert出来、或返回\r\n * \r\n * @param  {Objbect/Array} array      传入的数组或者对象\r\n * @param  {Boolean} return_val 是否返回，默认是alert出\r\n * @return {String}             树形结构\r\n */\r\nfunction print_r(array, return_val) {\r\n\tvar output = '',\r\n\tpad_char = ' ',\r\n\tpad_val = 4,\r\n\td = this.window.document,\r\n\tgetFuncName = function(fn) {\r\n\t\tvar name = (/\\W*function\\s+([\\w\\$]+)\\s*\\(/).exec(fn);\r\n\t\tif (!name) return '(Anonymous)';\r\n\t\treturn name[1];\r\n\t};\r\n\trepeat_char = function(len, pad_char) {\r\n\t\tvar str = '';\r\n\t\tfor (var i = 0; i < len; i++) \r\n\t\t\tstr += pad_char;\r\n\t\treturn str;\r\n\t};\r\n\tformatArray = function(obj, cur_depth, pad_val, pad_char) {\r\n\t\tif (cur_depth > 0)\r\n\t\t\tcur_depth++;\r\n\r\n\t\tvar base_pad = repeat_char(pad_val * cur_depth, pad_char);\r\n\t\tvar thick_pad = repeat_char(pad_val * (cur_depth + 1), pad_char);\r\n\t\tvar str = '';\r\n\r\n\t\tif (typeof obj === 'object' && obj !== null && obj.constructor && getFuncName(obj.constructor) !== 'PHPJS_Resource') {\r\n\t\t\tstr += 'Array\\n' + base_pad + '(\\n';\r\n\t\t\tfor (var key in obj) {\r\n\t\t\t\tif (Object.prototype.toString.call(obj[key]) === '[object Array]')\r\n\t\t\t\t\tstr += thick_pad + '[' + key + '] => ' + formatArray(obj[key], cur_depth + 1, pad_val, pad_char);\r\n\t\t\t\telse \r\n\t\t\t\t\tstr += thick_pad + '[' + key + '] => ' + obj[key] + '\\n';\r\n\t\t\t}\r\n\t\t\tstr += base_pad + ')\\n';\r\n\t\t} else if (obj === null || obj === undefined)\r\n\t\t\tstr = '';\r\n\t\telse // for our \"resource\" class\r\n\t\t\tstr = obj.toString();\r\n\t\treturn str;\r\n\t};\r\n\r\n\toutput = formatArray(array, 0, pad_val, pad_char);\r\n\tif (return_val !== true) {\r\n\t\talert(output);\r\n\t\treturn true;\r\n\t}\r\n\treturn output;\r\n}\r\n/**\r\n * 改变Object的Key的大小写，本函数和PHP一样\r\n * \r\n * @param  {Object} array 输入的Object\r\n * @param {String} [varname] 'CASE_LOWER' 小写，其它大写\r\n * @return {Object}                       返回Key已经大小写的Object\r\n */\r\nfunction array_change_key_case (array, cs) { // eslint-disable-line camelcase\r\n  //  discuss at: http://locutus.io/php/array_change_key_case/\r\n  // original by: Ates Goral (http://magnetiq.com)\r\n  // improved by: marrtins\r\n  // improved by: Brett Zamir (http://brett-zamir.me)\r\n  //   example 1: array_change_key_case(42)\r\n  //   returns 1: false\r\n  //   example 2: array_change_key_case([ 3, 5 ])\r\n  //   returns 2: [3, 5]\r\n  //   example 3: array_change_key_case({ FuBaR: 42 })\r\n  //   returns 3: {\"fubar\": 42}\r\n  //   example 4: array_change_key_case({ FuBaR: 42 }, 'CASE_LOWER')\r\n  //   returns 4: {\"fubar\": 42}\r\n  //   example 5: array_change_key_case({ FuBaR: 42 }, 'CASE_UPPER')\r\n  //   returns 5: {\"FUBAR\": 42}\r\n  //   example 6: array_change_key_case({ FuBaR: 42 }, 2)\r\n  //   returns 6: {\"FUBAR\": 42}\r\n\r\n  var caseFnc;\r\n  var key;\r\n  var tmpArr = {};\r\n\r\n  if (Object.prototype.toString.call(array) === '[object Array]') {\r\n    return array;\r\n  }\r\n\r\n  if (array && typeof array === 'object') {\r\n    caseFnc = (!cs || cs === 'CASE_LOWER') ? 'toLowerCase' : 'toUpperCase';\r\n    for (key in array) {\r\n      tmpArr[key[caseFnc]()] = array[key];\r\n    }\r\n    return tmpArr;\r\n  }\r\n\r\n  return false;\r\n}\r\n/**\r\n * 序列化\r\n * @param  {mixed} mixedValue Object/Array/String/...\r\n * @return {String}           序列化后的字符串\r\n */\r\nfunction serialize (mixedValue) {\r\n  //  discuss at: http://locutus.io/php/serialize/\r\n  // original by: Arpad Ray (mailto:arpad@php.net)\r\n  // improved by: Dino\r\n  // improved by: Le Torbi (http://www.letorbi.de/)\r\n  // improved by: Kevin van Zonneveld (http://kvz.io/)\r\n  // bugfixed by: Andrej Pavlovic\r\n  // bugfixed by: Garagoth\r\n  // bugfixed by: Russell Walker (http://www.nbill.co.uk/)\r\n  // bugfixed by: Jamie Beck (http://www.terabit.ca/)\r\n  // bugfixed by: Kevin van Zonneveld (http://kvz.io/)\r\n  // bugfixed by: Ben (http://benblume.co.uk/)\r\n  // bugfixed by: Codestar (http://codestarlive.com/)\r\n  //    input by: DtTvB (http://dt.in.th/2008-09-16.string-length-in-bytes.html)\r\n  //    input by: Martin (http://www.erlenwiese.de/)\r\n  //      note 1: We feel the main purpose of this function should be to ease\r\n  //      note 1: the transport of data between php & js\r\n  //      note 1: Aiming for PHP-compatibility, we have to translate objects to arrays\r\n  //   example 1: serialize(['Kevin', 'van', 'Zonneveld'])\r\n  //   returns 1: 'a:3:{i:0;s:5:\"Kevin\";i:1;s:3:\"van\";i:2;s:9:\"Zonneveld\";}'\r\n  //   example 2: serialize({firstName: 'Kevin', midName: 'van'})\r\n  //   returns 2: 'a:2:{s:9:\"firstName\";s:5:\"Kevin\";s:7:\"midName\";s:3:\"van\";}'\r\n\r\n  var val, key, okey;\r\n  var ktype = '';\r\n  var vals = '';\r\n  var count = 0;\r\n\r\n  var _utf8Size = function (str) {\r\n    var size = 0;\r\n    var i = 0;\r\n    var l = str.length;\r\n    var code = '';\r\n    for (i = 0; i < l; i++) {\r\n      code = str.charCodeAt(i);\r\n      if (code < 0x0080) {\r\n        size += 1;\r\n      } else if (code < 0x0800) {\r\n        size += 2;\r\n      } else {\r\n        size += 3;\r\n      }\r\n    }\r\n    return size;\r\n  };\r\n\r\n  var _getType = function (inp) {\r\n    var match;\r\n    var key;\r\n    var cons;\r\n    var types;\r\n    var type = typeof inp;\r\n\r\n    if (type === 'object' && !inp) {\r\n      return 'null';\r\n    }\r\n\r\n    if (type === 'object') {\r\n      if (!inp.constructor) {\r\n        return 'object';\r\n      }\r\n      cons = inp.constructor.toString();\r\n      match = cons.match(/(\\w+)\\(/);\r\n      if (match) {\r\n        cons = match[1].toLowerCase();\r\n      }\r\n      types = ['boolean', 'number', 'string', 'array'];\r\n      for (key in types) {\r\n        if (cons === types[key]) {\r\n          type = types[key];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return type;\r\n  };\r\n\r\n  var type = _getType(mixedValue);\r\n\r\n  switch (type) {\r\n    case 'function':\r\n      val = '';\r\n      break;\r\n    case 'boolean':\r\n      val = 'b:' + (mixedValue ? '1' : '0');\r\n      break;\r\n    case 'number':\r\n      val = (Math.round(mixedValue) === mixedValue ? 'i' : 'd') + ':' + mixedValue;\r\n      break;\r\n    case 'string':\r\n      val = 's:' + _utf8Size(mixedValue) + ':\"' + mixedValue + '\"';\r\n      break;\r\n    case 'array':\r\n    case 'object':\r\n      val = 'a';\r\n      /*\r\n      if (type === 'object') {\r\n        var objname = mixedValue.constructor.toString().match(/(\\w+)\\(\\)/);\r\n        if (objname === undefined) {\r\n          return;\r\n        }\r\n        objname[1] = serialize(objname[1]);\r\n        val = 'O' + objname[1].substring(1, objname[1].length - 1);\r\n      }\r\n      */\r\n\r\n      for (key in mixedValue) {\r\n        if (mixedValue.hasOwnProperty(key)) {\r\n          ktype = _getType(mixedValue[key]);\r\n          if (ktype === 'function') {\r\n            continue;\r\n          }\r\n\r\n          okey = (key.match(/^[0-9]+$/) ? parseInt(key, 10) : key);\r\n          vals += serialize(okey) + serialize(mixedValue[key]);\r\n          count++;\r\n        }\r\n      }\r\n      val += ':' + count + ':{' + vals + '}';\r\n      break;\r\n    //case 'undefined':\r\n    default:\r\n      // Fall-through\r\n      // if the JS object has a property which contains a null value,\r\n      // the string cannot be unserialized by PHP\r\n      val = 'N';\r\n      break;\r\n  }\r\n  if (type !== 'object' && type !== 'array') {\r\n    val += ';';\r\n  }\r\n\r\n  return val;\r\n}\r\n/**\r\n * 反序列化\r\n * @param  {String} data \r\n * @return {mixed}      得到的Object/Array/String/...\r\n */\r\nfunction unserialize (data) {\r\n  //  discuss at: http://locutus.io/php/unserialize/\r\n  // original by: Arpad Ray (mailto:arpad@php.net)\r\n  // improved by: Pedro Tainha (http://www.pedrotainha.com)\r\n  // improved by: Kevin van Zonneveld (http://kvz.io)\r\n  // improved by: Kevin van Zonneveld (http://kvz.io)\r\n  // improved by: Chris\r\n  // improved by: James\r\n  // improved by: Le Torbi\r\n  // improved by: Eli Skeggs\r\n  // bugfixed by: dptr1988\r\n  // bugfixed by: Kevin van Zonneveld (http://kvz.io)\r\n  // bugfixed by: Brett Zamir (http://brett-zamir.me)\r\n  //  revised by: d3x\r\n  //    input by: Brett Zamir (http://brett-zamir.me)\r\n  //    input by: Martin (http://www.erlenwiese.de/)\r\n  //    input by: kilops\r\n  //    input by: Jaroslaw Czarniak\r\n  //      note 1: We feel the main purpose of this function should be\r\n  //      note 1: to ease the transport of data between php & js\r\n  //      note 1: Aiming for PHP-compatibility, we have to translate objects to arrays\r\n  //   example 1: unserialize('a:3:{i:0;s:5:\"Kevin\";i:1;s:3:\"van\";i:2;s:9:\"Zonneveld\";}')\r\n  //   returns 1: ['Kevin', 'van', 'Zonneveld']\r\n  //   example 2: unserialize('a:2:{s:9:\"firstName\";s:5:\"Kevin\";s:7:\"midName\";s:3:\"van\";}')\r\n  //   returns 2: {firstName: 'Kevin', midName: 'van'}\r\n\r\n  var $global = (typeof window !== 'undefined' ? window : global)\r\n\r\n  var utf8Overhead = function (chr) {\r\n    // http://locutus.io/php/unserialize:571#comment_95906\r\n    var code = chr.charCodeAt(0)\r\n    var zeroCodes = [\r\n      338,\r\n      339,\r\n      352,\r\n      353,\r\n      376,\r\n      402,\r\n      8211,\r\n      8212,\r\n      8216,\r\n      8217,\r\n      8218,\r\n      8220,\r\n      8221,\r\n      8222,\r\n      8224,\r\n      8225,\r\n      8226,\r\n      8230,\r\n      8240,\r\n      8364,\r\n      8482\r\n    ]\r\n    if (code < 0x0080 || code >= 0x00A0 && code <= 0x00FF || zeroCodes.indexOf(code) !== -1) {\r\n      return 0\r\n    }\r\n    if (code < 0x0800) {\r\n      return 1\r\n    }\r\n    return 2\r\n  }\r\n  var error = function (type,\r\n    msg, filename, line) {\r\n    throw new $global[type](msg, filename, line)\r\n  }\r\n  var readUntil = function (data, offset, stopchr) {\r\n    var i = 2\r\n    var buf = []\r\n    var chr = data.slice(offset, offset + 1)\r\n\r\n    while (chr !== stopchr) {\r\n      if ((i + offset) > data.length) {\r\n        error('Error', 'Invalid')\r\n      }\r\n      buf.push(chr)\r\n      chr = data.slice(offset + (i - 1), offset + i)\r\n      i += 1\r\n    }\r\n    return [buf.length, buf.join('')]\r\n  }\r\n  var readChrs = function (data, offset, length) {\r\n    var i, chr, buf\r\n\r\n    buf = []\r\n    for (i = 0; i < length; i++) {\r\n      chr = data.slice(offset + (i - 1), offset + i)\r\n      buf.push(chr)\r\n      length -= utf8Overhead(chr)\r\n    }\r\n    return [buf.length, buf.join('')]\r\n  }\r\n  var _unserialize = function (data, offset) {\r\n    var dtype\r\n    var dataoffset\r\n    var keyandchrs\r\n    var keys\r\n    var contig\r\n    var length\r\n    var array\r\n    var readdata\r\n    var readData\r\n    var ccount\r\n    var stringlength\r\n    var i\r\n    var key\r\n    var kprops\r\n    var kchrs\r\n    var vprops\r\n    var vchrs\r\n    var value\r\n    var chrs = 0\r\n    var typeconvert = function (x) {\r\n      return x\r\n    }\r\n\r\n    if (!offset) {\r\n      offset = 0\r\n    }\r\n    dtype = (data.slice(offset, offset + 1)).toLowerCase()\r\n\r\n    dataoffset = offset + 2\r\n\r\n    switch (dtype) {\r\n      case 'i':\r\n        typeconvert = function (x) {\r\n          return parseInt(x, 10)\r\n        }\r\n        readData = readUntil(data, dataoffset, ';')\r\n        chrs = readData[0]\r\n        readdata = readData[1]\r\n        dataoffset += chrs + 1\r\n        break\r\n      case 'b':\r\n        typeconvert = function (x) {\r\n          return parseInt(x, 10) !== 0\r\n        }\r\n        readData = readUntil(data, dataoffset, ';')\r\n        chrs = readData[0]\r\n        readdata = readData[1]\r\n        dataoffset += chrs + 1\r\n        break\r\n      case 'd':\r\n        typeconvert = function (x) {\r\n          return parseFloat(x)\r\n        }\r\n        readData = readUntil(data, dataoffset, ';')\r\n        chrs = readData[0]\r\n        readdata = readData[1]\r\n        dataoffset += chrs + 1\r\n        break\r\n      case 'n':\r\n        readdata = null\r\n        break\r\n      case 's':\r\n        ccount = readUntil(data, dataoffset, ':')\r\n        chrs = ccount[0]\r\n        stringlength = ccount[1]\r\n        dataoffset += chrs + 2\r\n\r\n        readData = readChrs(data, dataoffset + 1, parseInt(stringlength, 10))\r\n        chrs = readData[0]\r\n        readdata = readData[1]\r\n        dataoffset += chrs + 2\r\n        if (chrs !== parseInt(stringlength, 10) && chrs !== readdata.length) {\r\n          error('SyntaxError', 'String length mismatch')\r\n        }\r\n        break\r\n      case 'a':\r\n        readdata = {}\r\n\r\n        keyandchrs = readUntil(data, dataoffset, ':')\r\n        chrs = keyandchrs[0]\r\n        keys = keyandchrs[1]\r\n        dataoffset += chrs + 2\r\n\r\n        length = parseInt(keys, 10)\r\n        contig = true\r\n\r\n        for (i = 0; i < length; i++) {\r\n          kprops = _unserialize(data, dataoffset)\r\n          kchrs = kprops[1]\r\n          key = kprops[2]\r\n          dataoffset += kchrs\r\n\r\n          vprops = _unserialize(data, dataoffset)\r\n          vchrs = vprops[1]\r\n          value = vprops[2]\r\n          dataoffset += vchrs\r\n\r\n          if (key !== i) {\r\n            contig = false\r\n          }\r\n\r\n          readdata[key] = value\r\n        }\r\n\r\n        if (contig) {\r\n          array = new Array(length)\r\n          for (i = 0; i < length; i++) {\r\n            array[i] = readdata[i]\r\n          }\r\n          readdata = array\r\n        }\r\n\r\n        dataoffset += 1\r\n        break\r\n      default:\r\n        error('SyntaxError', 'Unknown / Unhandled data type(s): ' + dtype)\r\n        break\r\n    }\r\n    return [dtype, dataoffset - offset, typeconvert(readdata)]\r\n  }\r\n\r\n  return _unserialize((data + ''), 0)[2]\r\n}\r\n/**\r\n * 转义字符串的HTML字符，主要有 < > \" ' &\r\n * var str = '<a href=\"xxx\">'.toHTML();\r\n * 返回 '&lt;a href=&quot;xxx&quot;&gt;'\r\n * \r\n * @return {String}\r\n */\r\n\r\nString.prototype.toHTML = function() {\r\n\treturn this.replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#039;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n};\r\n/**\r\n * 同上\r\n * \r\n * @return {String}\r\n */\r\nNumber.prototype.toHTML = function() {\r\n\treturn this.toString().toHTML();\r\n};\r\n/**\r\n * 转义字符串的空格、回车、制表符，也就是将textarea输入的文本可以原样显示到屏幕\r\n * 类似于<pre>标签\r\n * \r\n * var str = \" 空格\\n第\\t二行\".toPre();\r\n * 返回 '&nbsp;空格<br />第&nbsp;&nbsp;&nbsp;&nbsp;二行'\r\n * \r\n * @return {String}\r\n */\r\nString.prototype.toPre = function() {\r\n\treturn this.replace(/\\040/g, '&nbsp;').replace(/\\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;').replace(/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n)/g, '$1<br />$2');\r\n};\r\n/**\r\n * 删除所有HTML标签\r\n * \r\n * var str = \"<a href=''>我爱你</a>\".toPre();\r\n * 返回 '我爱你'\r\n * \r\n * @return {String}\r\n */\r\nString.prototype.noHTML = function() {\r\n\treturn this.replace(/<script[^>]*?>.*?<\\/script>/ig, '').replace(/<[\\/\\!]*?[^<>]*?>/g, '').replace(/<style[^>]*?>.*?<\\/style>/ig, '').replace(/<![\\s\\S]*?--[ \\t\\n\\r]*>/, '').replace(/([\\r\\n])[\\s]+/,'').replace(/&(quot|#34|amp|#38|lt|#60|gt|#62|nbsp|#160)/i,'');\r\n};\r\n/**\r\n * 返回字符串长度，汉字或其它非英文字符按2个长度算\r\n * \r\n * var str = \"我爱你abc\".aLength();\r\n * 返回 9\r\n * \r\n * @return {String}\r\n */\r\nString.prototype.aLength = function() {\r\n\tvar a = this.match(/[^\\x00-\\x80]/g);\r\n\treturn this.length + (a ? a.length : 0);\r\n};\r\n/**\r\n * 字符串前后加上补充字符串，使其达到定义的长度\r\n * \r\n * @example 1: 'Kevin van Zonneveld'.pad(30, '-=', 'STR_PAD_LEFT');\r\n * @returns 1: '-=-=-=-=-=-Kevin van Zonneveld'\r\n * @example 2: 'Kevin van Zonneveld'.pad(30, '-', 'STR_PAD_BOTH');\r\n * @returns 2: '------Kevin van Zonneveld-----'\r\n * \r\n * @param  {Int} pad_length 最终长度\r\n * @param  {String} pad_string 需要补充的字符串\r\n * @param  {String} pad_type   'STR_PAD_LEFT' 或 'STR_PAD_RIGHT' 或 'STR_PAD_BOTH'\r\n * @return {String}            \r\n */\r\nString.prototype.pad = function(pad_length, pad_string, pad_type) {\r\n\tvar half = '',pad_to_go;\r\n\tvar str_pad_repeater = function(s, len) {\r\n\t\tvar collect = '',i;\r\n\t\twhile (collect.length < len) {\r\n\t\t\tcollect += s;\r\n\t\t}\r\n\t\tcollect = collect.substr(0, len);\r\n\t\treturn collect;\r\n\t};\r\n\r\n\tvar input = this.toString() + '';\r\n\tpad_string = pad_string !== undefined ? pad_string : ' ';\r\n\r\n\tif (pad_type !== 'STR_PAD_LEFT' && pad_type !== 'STR_PAD_RIGHT' && pad_type !== 'STR_PAD_BOTH')\r\n\t\tpad_type = 'STR_PAD_LEFT';\r\n \r\n\tif ((pad_to_go = pad_length - input.length) > 0) {\r\n\t\tif (pad_type === 'STR_PAD_LEFT') {\r\n\t\t\tinput = str_pad_repeater(pad_string, pad_to_go) + input;\r\n\t\t} else if (pad_type === 'STR_PAD_RIGHT') {\r\n\t\t\tinput = input + str_pad_repeater(pad_string, pad_to_go);\r\n\t\t} else if (pad_type === 'STR_PAD_BOTH') {\r\n\t\t\thalf = str_pad_repeater(pad_string, Math.ceil(pad_to_go / 2));\r\n\t\t\tinput = half + input + half;\r\n\t\t\tinput = input.substr(0, pad_length);\r\n\t\t}\r\n\t}\r\n\treturn input;\r\n};\r\n/**\r\n * 同上，区别是pad_string默认为字符串'0'\r\n * var str = (100).pad(10);\r\n * 返回 '0000000100'\r\n */\r\nNumber.prototype.pad = function(pad_length, pad_string, pad_type) {\r\n\tpad_string = pad_string !== undefined ? pad_string : '0';\r\n\treturn this.toString().pad(pad_length, pad_string, pad_type);\r\n};\r\n/**\r\n * 等同PHP的同名函数\r\n * 需要保留小数位数，以及修改小数点的符号\r\n * 千分位加上符号\r\n * \r\n * var str = (1231121.234564645).number_format(30, '-=', 2, '$', '\\'');\r\n * 返回 \"1'231'121$23\"\r\n\r\n * \r\n * @param  {Int} decimals 保留小数的位数\r\n * @param  {String} dec_point 小数点使用的字符\r\n * @param  {String} thousands_sep   千分位使用的字符\r\n * @return {String}            \r\n */\r\nString.prototype.number_format = function(decimals, dec_point, thousands_sep) {\r\n\tvar number = (this + '').replace(/[^0-9+\\-Ee.]/g, '');\r\n\tvar n = !isFinite(+number) ? 0 : +number,\r\n\t\tprec = !isFinite(+decimals) ? 0 : Math.abs(decimals),\r\n\t\tsep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,\r\n\t\tdec = (typeof dec_point === 'undefined') ? '.' : dec_point,\r\n\t\ts = '',\r\n\t\ttoFixedFix = function(n, prec) {\r\n\t\t\tvar k = Math.pow(10, prec);\r\n\t\t\treturn '' + (Math.round(n * k) / k).toFixed(prec);\r\n\t\t};\r\n\t// Fix for IE parseFloat(0.55).toFixed(0) = 0;\r\n\ts = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');\r\n\tif (s[0].length > 3) {\r\n\t\ts[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\r\n\t}\r\n\tif ((s[1] || '').length < prec) {\r\n\t\ts[1] = s[1] || '';\r\n\t\ts[1] += new Array(prec - s[1].length + 1)\r\n\t\t.join('0');\r\n\t}\r\n\treturn s.join(dec);\r\n};\r\n/**\r\n * 同上\r\n */\r\nNumber.prototype.number_format = function(decimals, dec_point, thousands_sep) {\r\n\treturn this.toString().number_format(decimals, dec_point, thousands_sep);\r\n};\r\n\r\n/**\r\n * 尝试将一个字符串转化为Date对象\r\n * 支持带微秒的时间戳(unix时间戳 * 1000)、英式时间格式(月/日/年 时:分:秒)等javascript支持的时间格式\r\n * 无法识别则返回当前时间\r\n * \r\n * @return {Date} \r\n */\r\nString.prototype.toDate = function() {\r\n\tvar t = this;\r\n\tif (!isNaN(this))\r\n\t\tt = parseInt(this);\r\n\tt = new Date(t);\r\n\tif (isNaN(t.getTime()))\r\n\t\tt = new Date();\r\n\treturn t;\r\n};\r\n/**\r\n * 带微秒的时间戳转化为Date对象\r\n * 也就是javascript中Date.getTime()的时间戳\r\n * \r\n * @return {Date}\r\n */\r\nNumber.prototype.toDate = function() {\r\n\treturn this.toString().toDate();\r\n};\r\n/**\r\n * 此方法只是为了帮助开发者，无需了解数据的类型，都可以toDate\r\n * @return {[type]} [description]\r\n */\r\nDate.prototype.toDate = function() {\r\n\treturn this;\r\n};\r\n/**\r\n * 将Date格式化字符串的时间\r\n * \r\n * (unix时间戳 * 1000).toTimeString('%Y年%m月')  --> '2016年03月'\r\n * 'now'.toTimeString('%Y-%m-%d')  --> '2016-03-04'\r\n * (new Date('03/01/2016 23:59:30')).toString('%T')  --> '23:59:30'\r\n * \r\n * @param  {String} format_string %D %T %F %R %h %n %t %S %s %MS %M %H %d %m %B %b %Y %y %w %W %A %a %x %X %c 请参见PHP手册strftime函数 (ISO 9889:1999)\r\n * @return {String}               \r\n */\r\nDate.prototype.toString = function(format_string) {\r\n\tvar array_week = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', '&#26085;', '&#19968;', '&#20108;', '&#19977;', '&#22235;', '&#20116;', '&#20845;'];\r\n\tvar array_month = ['', 'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec'];\r\n  \r\n\tvar y, m, d, h, i, s, ms, w, t;\r\n\ty = this.getFullYear();\r\n\tm = this.getMonth() + 1;\r\n\td = this.getDate();\r\n\th = this.getHours();\r\n\ti = this.getMinutes();\r\n\ts = this.getSeconds();\r\n\tms = this.getMilliseconds();\r\n\tw = this.getDay();\r\n\tt = parseInt(this.getTime() / 1000);\r\n\r\n\tformat_string = format_string === undefined ? '%c' : format_string;\r\n\tvar f = format_string.toString();\r\n\tf = f.replace(/%%/g, '{-+-+-}%{/-+-+-}');\r\n\tf = f.replace(/%D/g, '%m/%d/%y');\r\n\tf = f.replace(/%T/g, '%H:%M:%S'); \r\n\tf = f.replace(/%F/g, '%y-%m-%d');\r\n\tf = f.replace(/%R/g, '%H:%M');\r\n\tf = f.replace(/%h/g, '%b');\r\n\tf = f.replace(/%n/g, '\\n');\r\n\tf = f.replace(/%t/g, '\\t');\r\n\tf = f.replace(/%S/g, s.pad(2,'0')); //Second\r\n\tf = f.replace(/%s/g, t.toString()); //Stamp\r\n\tf = f.replace(/%MS/g, ms.toString()); //Millisecond\r\n\tf = f.replace(/%M/g, i.pad(2,'0')); //Minute\r\n\tf = f.replace(/%H/g, h.pad(2,'0')); //Hour\r\n\tf = f.replace(/%d/g, d.pad(2,'0')); //Day\r\n\tf = f.replace(/%m/g, m.pad(2,'0')); //Month(Int)\r\n\tf = f.replace(/%B/g, array_month[m]); //January\r\n\tf = f.replace(/%b/g, array_month[m + 12]); //Jan\r\n\tf = f.replace(/%Y/g, y.toString()); //Year\r\n\tf = f.replace(/%y/g, (y % 100).pad(2,'0')); //Year 00~99\r\n\tf = f.replace(/%w/g, w.toString()); //Week(Int)\r\n\tf = f.replace(/%W/g, w.toString()); //Week(Int)\r\n\tf = f.replace(/%A/g, array_week[w]); //Monday\r\n\tf = f.replace(/%a/g, array_week[w + 7]); //Mon\r\n\tf = f.replace(/%x/g, this.toLocaleDateString()); \r\n\tf = f.replace(/%X/g, this.toLocaleTimeString());\r\n\tf = f.replace(/%c/g, this.toLocaleString());\r\n\tf = f.replace('{-+-+-}%{/-+-+-}', '%');\r\n\treturn f;\r\n};\r\n/**\r\n * 同上，但此函数会先尝试toDate\r\n */\r\nString.prototype.toTimeString = function(format_string) {\r\n\treturn this.toDate().toString(format_string);\r\n};\r\n/**\r\n * 同上，但此函数会先尝试toDate\r\n */\r\nNumber.prototype.toTimeString = function(format_string) {\r\n\treturn this.toString().toDate().toString(format_string);\r\n};\r\n/**\r\n * 同下，但如果传入的字符串不是数字将会返回原文\r\n */\r\nString.prototype.toCountDownString = function(format_string){\r\n\tvar count_down_ms = parseInt(this);\r\n\treturn isNaN(count_down_ms) ? this : count_down_ms.toCountDownString(format_string);\r\n};\r\n/**\r\n * 时间长度(微秒时间)，按制定格式返回\r\n * \r\n * 比如：播放时长为124秒，(124000).toCountDownString('时长：%H时%M分%S秒') \r\n * 返回 '时长：00时02分04秒'\r\n * \r\n * @param  {String} format_string %S %s %MS %ms %M %H %D\r\n * @return {[type]}               [description]\r\n */\r\nNumber.prototype.toCountDownString = function(format_string){\r\n\t\tvar d,h,m,s,ms,minus=false;\r\n\t\t//if (this < 0) minus = true;\r\n\t\tvar count_down_ms = Math.abs(parseInt(this));\r\n\t\tvar t = parseInt(count_down_ms / 1000);\r\n\t\td = parseInt(t / 60 / 60 / 24);\r\n\t\tif (format_string.indexOf('%D') < 0) d = 0;\r\n\t\th = parseInt(t / 60 / 60 - d * 24);\r\n\t\tif (format_string.indexOf('%H') < 0) h = 0;\r\n\t\tm = parseInt(t / 60 - d * 24 * 60 - h * 60);\r\n\t\tif (format_string.indexOf('%M') < 0) m = 0;\r\n\t\ts = t - d * 24 * 60 * 60 - h * 60 * 60 - m * 60;\r\n\t\tms = count_down_ms - t * 1000;\r\n\t\tvar f = format_string.replace(/%S/g,s.pad(2,'0'));//Second\r\n\t\tf = f.replace(/%s/g,t.toString());//Stamp\r\n\t\tf = f.replace(/%MS/g,ms.toString());//Millisecond\r\n\t\tf = f.replace(/%ms/g,count_down_ms.toString());//Millisecond Stamp\r\n\t\tf = f.replace(/%M/g,m.pad(2,'0'));//Minute\r\n\t\tf = f.replace(/%H/g,h.pad(2,'0'));//Hour\r\n\t\tf = f.replace(/%D/g,d.pad(2,'0'));//Day\r\n\t\treturn f;\r\n};\r\n/**\r\n * 检测客户端Flash的版本\r\n * \r\n * @return {String} 版本号\r\n */\r\nfunction flash_version()\r\n{\r\n\tvar a = !1,\r\n\tb = \"\";\r\n\r\n\tfunction c(d) {\r\n\t\td = d.match(/[\\d]+/g);\r\n\t\td.length = 3;\r\n\t\treturn d.join(\".\")\r\n\t}\r\n\tif (navigator.plugins && navigator.plugins.length) {\r\n\t\tvar e = navigator.plugins[\"Shockwave Flash\"];\r\n\t\te && (a = !0, e.description && (b = c(e.description)));\r\n\t\tnavigator.plugins[\"Shockwave Flash 2.0\"] && (a = !0, b = \"2.0.0.11\")\r\n\t} else {\r\n\t\tif (navigator.mimeTypes && navigator.mimeTypes.length) {\r\n\t\t\tvar f = navigator.mimeTypes[\"application/x-shockwave-flash\"];\r\n\t\t\t(a = f && f.enabledPlugin) && (b = c(f.enabledPlugin.description))\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\tvar g = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.7\"),\r\n\t\t\t\t\ta = !0,\r\n\t\t\t\t\tb = c(g.GetVariable(\"$version\"))\r\n\t\t\t} catch (h) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tg = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.6\"), a = !0, b = \"6.0.21\"\r\n\t\t\t\t} catch (i) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tg = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\"), a = !0, b = c(g.GetVariable(\"$version\"))\r\n\t\t\t\t\t} catch (j) {}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn a ? b : false;\r\n}\r\n/**\r\n * 将图片等比压缩到制定宽高\r\n * <img src=\"xxx\" onload=\"resizeImg(this, 300, 200);\">\r\n *  \r\n * @param  {ImageElement} imgObj  图片\r\n * @param  {Mumber} maxWidth  最大宽度\r\n * @param  {Mumber} maxHeight 最大高度\r\n */\r\nfunction resizeImg(img, maxWidth, maxHeight) {\r\n\tjQuery(img).css({'maxHeight': maxHeight, 'maxWidth': maxWidth});\r\n\tvar HeightWidth = img.offsetHeight / img.offsetWidth;\r\n\tvar WidthHeight = img.offsetWidth / img.offsetHeight;\r\n\tif(img.offsetWidth > maxWidth)\r\n\t\tjQuery(img).css({width : maxWidth, height : maxWidth * HeightWidth}); \r\n\tif(img.offsetHeight > maxHeight)\r\n\t\tjQuery(img).css({width : maxHeight * WidthHeight, height : maxHeight}); \r\n}\r\n\r\nif (window.location) {\r\n//support: ?id=123&a[]=1&a[2]=2&a[3][]=3\r\nwindow.location.query = function(param) {\r\n\tvar params = jQuery.deparam.querystring();\r\n\treturn params[param] ? params[param] : null;\r\n};\r\n}\r\n(function($){\r\n\t\r\n\t$.isUndefined = function(obj) {\r\n\t\treturn typeof obj == 'undefined';\r\n\t};\r\n\t$.isjQuery = function(obj) {\r\n\t\treturn obj instanceof jQuery;\r\n\t};\r\n\r\n\t/**\r\n\t * [alert description]\r\n\t * @param  {String} msg              [description]\r\n\t * @param  {[type]} confirm_callback [description]\r\n\t * @return {[type]}                  [description]\r\n\t */\r\n\t$.alert = function(msg, confirm_callback) {\r\n\t\tvar $dfd = jQuery.Deferred();\r\n\r\n\t\tif (typeof $.alert_interface != 'undefined')\r\n\t\t\t$.alert_interface(msg, confirm_callback, $dfd);\r\n\t\telse {\r\n\t\t\talert(msg);\r\n\t\t\tif (confirm_callback && $.isFunction(confirm_callback))\tconfirm_callback.call(this);\r\n\t\t\t$dfd.resolve();\r\n\t\t}\r\n\t\treturn $dfd.promise();\r\n\t};\r\n\r\n\t$.prompt = function(msg, confirm_callback, cancel_callback) {\r\n\t\tvar $dfd = jQuery.Deferred();\r\n\t\tvar _confirm = function(v){\r\n\t\t\tif (!v) return _cancel();\r\n\t\t\tif (confirm_callback && $.isFunction(confirm_callback)) confirm_callback.call(this,[v]);\r\n\t\t\t$dfd.resolve([v]);\r\n\t\t};\r\n\t\tvar _cancel = function(){\r\n\t\t\tif (cancel_callback && $.isFunction(cancel_callback)) cancel_callback.call(this);\r\n\t\t\t$dfd.reject();\r\n\t\t};\r\n\t\t\r\n\t\tif (typeof $.prompt_interface != 'undefined')\r\n\t\t\t$.prompt_interface(msg, _confirm, _cancel, $dfd);\r\n\t\telse {\r\n\t\t\tvar v = prompt(msg);\r\n\t\t\tif (v)\r\n\t\t\t\t_confirm(v);\r\n\t\t\telse\r\n\t\t\t\t_cancel();\r\n\t\t}\r\n\t\treturn $dfd.promise();\r\n\t};\r\n\t$.tips = function(msg, timeout) {\r\n\t\tvar $dfd = jQuery.Deferred();\r\n\t\tif (typeof $.tips_interface != 'undefined')\r\n\t\t\t$.tips_interface(msg, timeout, $dfd);\r\n\t\telse {\r\n\t\t\talert(msg);\r\n\t\t\t$dfd.resolve();\r\n\t\t}\r\n\t\treturn $dfd.promise();\r\n\t};\r\n\t$.confirm = function(msg, confirm_callback, cancel_callback) {\r\n\t\tvar $dfd = jQuery.Deferred();\r\n\t\tif (typeof $.confirm_interface != 'undefined')\r\n\t\t\t$.confirm_interface(msg, confirm_callback, cancel_callback, $dfd);\r\n\t\telse {\r\n\t\t\tif (confirm(msg)) {\r\n\t\t\t\tif (confirm_callback && $.isFunction(confirm_callback)) confirm_callback.call(this);\r\n\t\t\t\t$dfd.resolve();\r\n\t\t\t} else {\r\n\t\t\t\tif (cancel_callback && $.isFunction(confirm_callback)) cancel_callback.call(this);\r\n\t\t\t\t$dfd.reject();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn $dfd.promise();\r\n\t};\r\n\r\n\t$.fn.extend({checkAll : function($selector, callback) {\r\n\t\tif(!$.isjQuery($selector)) $selector = $($selector);\r\n\t\tvar t = this;\r\n\t\t$selector.on('click change', function(){\r\n\t\t\tvar length = $selector.length;\r\n\t\t\tvar checked_length = $selector.filter(':checked').length;\r\n\t\t\tt.prop({\r\n\t\t\t\t\"checked\": length == checked_length && length != 0,\r\n\t\t\t\t\"indeterminate\" : length != checked_length && checked_length != 0 \r\n\t\t\t});\r\n\t\t\tif (callback && $.isFunction(callback)) callback.call(t.add($selector), t.prop(\"checked\"), t.prop(\"indeterminate\"));\r\n\t\t});\r\n\t\treturn this.each(function(){\r\n\t\t\t$(this).on('click change', function(){\r\n\t\t\t\t$selector.prop('checked', this.checked);\r\n\t\t\t\tif (callback && $.isFunction(callback)) callback.call(t.add($selector), this.checked, false);\r\n\t\t\t});\r\n\t\t});\r\n\t}, count_down : function(format, delta, duration){ //delta = server microtime - client microtime\r\n\t\tif (format === false) return this.each(function(){\r\n\t\t\tvar interval = $(this).data('count-down-interval');clearInterval(interval); interval = null;\r\n\t\t});\r\n\t\tif (typeof delta == 'undefined') delta = 0;\r\n\t\treturn this.data({'count-down-delta' : delta, 'count-down-format' : format}).each(function(){\r\n\t\t\tvar $this = $(this);\r\n\t\t\tvar count_down_method = function() {\r\n\t\t\t\tvar count_down = $this.data('count-down');\r\n\t\t\t\tvar format =  $this.data('count-down-format');\r\n\t\t\t\tif (count_down) {\r\n\t\t\t\t\tvar target = count_down.toDate();\r\n\t\t\t\t\t$this.data('count_down',target);\r\n\t\t\t\t\tvar delta = parseInt($this.data('count-down-delta'));\r\n\t\t\t\t\tvar cd = target.getTime() - (new Date()).getTime() + delta;\r\n\t\t\t\t\tvar text = '';\r\n\t\t\t\t\tif ( cd > 0 ) {\r\n\t\t\t\t\t\tif (format) {\r\n\t\t\t\t\t\t\ttext = cd.toCountDownString(format);\r\n\t\t\t\t\t\t\tif($this.is(':input:not(button[value])')) $this.val(text); else $this.html(text);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$this.triggerHandler('count-down-ing',[cd, text]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar interval = $this.data('count-down-interval');\r\n\t\t\t\t\t\tclearInterval(interval); interval = null;\r\n\t\t\t\t\t\tif (format) {\r\n\t\t\t\t\t\t\tcd = 0; //to 0\r\n\t\t\t\t\t\t\ttext = cd.toCountDownString(format);\r\n\t\t\t\t\t\t\tif($this.is(':input:not(button[value])')) $this.val(text); else $this.html(text);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$this.triggerHandler('count-down-stop',[cd, text]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar interval = setInterval(count_down_method, typeof duration == 'undefined' || duration < 10 ? 500 : parseInt(duration));\r\n\t\t\t$this.data('count-down-interval', interval);\r\n\t\t\t$this.triggerHandler('count-down-start',[0, '']);\r\n\t\t\tcount_down_method.call(this); //call it\r\n\t\t});\r\n\t}\r\n\t});\r\n})(jQuery);","\r\n(function($){\r\n\t$.QUERY_LANGUAGE = {\r\n\t\t'error' : '错误',\r\n\t\t'reload' : '重新载入',\r\n\t\t'redirect' : '页面跳转',\r\n\t\t'unselected' : '请至少选择一项！',\r\n\t\t'network_timeout' : '网络故障，请检查网络连接后重试！',\r\n\t\t'parser_error' : '数据解析失败，刷新重试下？',\r\n\t\t'server_error' : '服务器可能出现了点问题，刷新页面重试下？',\r\n\t\t'encrypt_key' : '数据已经加密，但未传递正确的公钥。',\r\n\t\t'encrypt_js' : '数据已经加密，但页面未加载解密JS。',\r\n\t\t'encrypt_string' : '数据已经加密，但密文解密失败，请联系管理员。',\r\n\t\t'encrypt_unserialize' : '数据已经加密，但密文解开失败，请联系管理员。',\r\n\t};\r\n\t//init csrf\r\n\t$.csrf = $('meta[name=\"csrf-token\"]').attr('content');\r\n\tvar headers = {};\r\n\tif ($.csrf)\r\n\t\theaders['X-CSRF-TOKEN'] = $.csrf;\r\n\tif ($.ssl)\r\n\t\theaders['X-RSA'] = encodeURIComponent($.ssl.rsa.public);\r\n\r\n\r\n\t$.ajaxSetup({headers:headers, dataFilter: function(data, type){\r\n\t\tvar callback = ''; \r\n\t\tvar jsonError = function(content) {\r\n\t\t\tvar data = {};\r\n\t\t\tdata.result = 'error';\r\n\t\t\tdata.message = {title: $.QUERY_LANGUAGE.error, content: content};\r\n\t\t\treturn JSON.stringify(data);\r\n\t\t};\r\n\t\tif (type.toLowerCase() == 'jsonp')\r\n\t\t\tcallback = '';\r\n\t\tif (type.toLowerCase() == 'json') {\r\n\t\t\tvar json = $.parseJSON(data);\r\n\t\t\tif (typeof json != 'undefined' && typeof json.result != 'undefined' && json.result == 'api' && typeof json.encrypt != 'undefined' && json.encrypt === true)\r\n\t\t\t{\r\n\t\t\t\tvar key,encrypt,encrypted_json;\r\n\t\t\t\tif (typeof json.key != 'undefined' && typeof $.ssl != 'undefined' && !!json.key) {\r\n\t\t\t\t \ttry{\r\n\t\t\t\t\t\tkey = $.ssl.decrypt(json.key);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.log(e.stack);\r\n\t\t\t\t\t\treturn jsonError($.QUERY_LANGUAGE.encrypt_key + e.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tencrypted = json.data;\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tvar s = base64js.toByteArray(encrypted);\r\n\t\t\t\t\t\tencrypted_json = JSON.parse(aesjs.util.convertBytesToString(s)); //json_decode()\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.log(e.stack);\r\n\t\t\t\t\t\treturn jsonError($.QUERY_LANGUAGE.encrypt_string + e.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\t//base64 decode\r\n\t\t\t\t\t\tvar keyBytes = base64js.toByteArray(key),\r\n\t\t\t\t\t\tivBytes = base64js.toByteArray(encrypted_json.iv),\r\n\t\t\t\t\t\tvalueBytes = base64js.toByteArray(encrypted_json.value);\r\n\t\t\t\t\t\t//aes cbc\r\n\t\t\t\t\t\tvar aesCbc = new aesjs.ModeOfOperation.cbc(keyBytes, ivBytes);\r\n\t\t\t\t\t\tvar decryptedBytes = aesCbc.decrypt(valueBytes);\r\n\t\t\t\t\t\tvar decypted = aesjs.util.convertBytesToString(decryptedBytes);\r\n\t\t\t\t\t\t//unserialize\r\n\t\t\t\t\t\tjson.data = unserialize(decypted);\r\n\t\t\t\t\t} catch(e) {\r\n\t\t\t\t\t\tconsole.log(e.stack);\r\n\t\t\t\t\t\treturn jsonError($.QUERY_LANGUAGE.encrypt_unserialize + e.message);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (!json.key)\r\n\t\t\t\t\treturn jsonError($.QUERY_LANGUAGE.encrypt_key);\r\n\t\t\t\telse \r\n\t\t\t\t\treturn jsonError($.QUERY_LANGUAGE.encrypt_js);\r\n\t\t\t}\r\n\t\t\tdata = JSON.stringify(json);\r\n\t\t\tif (typeof json.debug != 'undefined' && !!json.debug) console.log(json);\r\n\t\t\t//delete json;\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}}); \r\n\r\n\t//init ssl\r\n\r\n\t/**\r\n\t * post or get a url\r\n\t * @example post it when [data] isn't null\r\n\t * @example get it when [data] is null/undefined\r\n\t * @example show tips when [alert_it] is true\r\n\t * \r\n\t * @param  {String}   \t\turl      query URL\r\n\t * @param  {String/Object}\tdata     form data\r\n\t * @param  {Function} \t\tcallback call it when query success\r\n\t * @param  {Boolean/Object} alert_it show tips when true or noty's config\r\n\t */\r\n\t$.query = function(url, data, method, callback, alert_it) {\r\n\t\tif (typeof alert_it == 'undefined') alert_it = true;\r\n\t\tif (typeof method == 'undefined') method = data ? 'POST' : 'GET';\r\n\t\tvar _this = this, _result = null, _headers = {}, _data = data;\r\n\t\tif (data && data instanceof String) _data = $.deparam(data);\r\n\t\tif (_data && _data._method) {\r\n\t\t\tmethod = _data._method;\r\n\t\t\t_headers['X-HTTP-Method-Override'] = method;\r\n\t\t}\r\n\t\tif (_data && _data._token) //add csrf\r\n\t\t\t_headers['X-CSRF-TOKEN'] = _data._token;\r\n\t\tvar ajax = $.ajax({\r\n\t\t\turl : url,\r\n\t\t\tdata : _data ? _data : null,\r\n\t\t\tasync : callback !== false, \r\n\t\t\tcache : false,\r\n\t\t\ttype : method.toUpperCase(),\r\n\t\t\theaders: _headers,\r\n\t\t\ttimeout : 20000,\r\n\t\t\tdataType : /[\\?&](jsonp|callback)=\\?/i.test(url) ? 'jsonp' : 'json',\r\n\t\t\tsuccess : function(json, textStatus, jqXHR) {\r\n\t\t\t\tif (json) {\r\n\t\t\t\t\tif (json.result && alert_it){\r\n\t\t\t\t\t\t$.showtips(json, true, alert_it);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (callback === false)\t{\r\n\t\t\t\t\t_result = json;\r\n\t\t\t\t\treturn _result;\r\n\t\t\t\t}\r\n\t\t\t\tif (callback && $.isFunction(callback))\r\n\t\t\t\t\tcallback.call(_this, json, textStatus, jqXHR);\r\n\t\t\t},\r\n\t\t\terror : function(XMLHttpRequest, textStatus, errorThrown) {\r\n\t\t\t\tif (alert_it)\r\n\t\t\t\t{\r\n\t\t\t\t\tswitch(textStatus) {\r\n\t\t\t\t\t\tcase 'timeout':\r\n\t\t\t\t\t\t\t$.tips($.QUERY_LANGUAGE.network_timeout);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'error':\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'notmodified':\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'parsererror':\r\n\t\t\t\t\t\t\t$.tips($.QUERY_LANGUAGE.parser_error);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t$.tips($.QUERY_LANGUAGE.server_error);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn callback === false ? _result : ajax;\r\n\t};\r\n\t$.GET = function(url, data, callback, alert_it) {\r\n\t\talert_it = typeof alert_it == 'undefined' ? false : alert_it;\r\n\t\treturn $.query.call(this, url, data, 'GET', callback, alert_it);\r\n\t};\r\n\t$.POST = function(url, data, callback, alert_it) {\r\n\t\talert_it = typeof alert_it == 'undefined' ? false : alert_it;\r\n\t\treturn $.query.call(this, url, data, 'POST', callback, alert_it);\r\n\t};\r\n\t$.PUT = function(url, data, callback, alert_it) {\r\n\t\talert_it = typeof alert_it == 'undefined' ? false : alert_it;\r\n\t\treturn $.query.call(this, url, data, 'PUT', callback, alert_it);\r\n\t};\r\n\t$.DELETE = function(url, data, callback, alert_it) {\r\n\t\talert_it = typeof alert_it == 'undefined' ? false : alert_it;\r\n\t\treturn $.query.call(this, url, data, 'DELETE', callback, alert_it);\r\n\t};\r\n\t$.HEAD = function(url, data, callback, alert_it) {\r\n\t\talert_it = typeof alert_it == 'undefined' ? false : alert_it;\r\n\t\treturn $.query.call(this, url, data, 'HEAD', callback, alert_it);\r\n\t};\r\n\t$.PATCH = function(url, data, callback, alert_it) {\r\n\t\talert_it = typeof alert_it == 'undefined' ? false : alert_it;\r\n\t\treturn $.query.call(this, url, data, 'PATCH', callback, alert_it);\r\n\t};\r\n\r\n\t$.showtips = function(tips, redirect, config) {\r\n\t\tif (tips.result == 'api') return; //API\r\n\r\n\t\tvar _tips = clone(tips);\r\n\t\tvar _redirect = typeof redirect == 'undefined' ? true : redirect;\r\n\t\tif (typeof $.showtips_interface != 'undefined') {\r\n\t\t\t$.showtips_interface(_tips, config);\r\n\t\t} else\r\n\t\t\talert(_tips.message.content.noHTML());\r\n\r\n\t\tif (_redirect && typeof _tips.url != 'undefined') {\r\n\t\t\tif (_tips.url !== true && _tips.url !== false ) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tself.location.href = _tips.url;\r\n\t\t\t\t}, 1500);\r\n\t\t\t} else if (_tips.url === true) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tself.location.reload();\r\n\t\t\t\t}, 1500);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t$.fn.extend({\r\n\tquery : function(callback, alert_it, show_loading) {\r\n\t\treturn this.each(function() {\r\n\t\t\tvar $this = $(this);\r\n\t\t\tvar is_form = $this.is('form');\r\n\t\t\tshow_loading = typeof show_loading != 'undefined' ? show_loading : true;\r\n\t\t\tvar validator = is_form ? $this.data('validator') : null;\r\n\t\t\tif (validator) validator.settings.submitHandler = function(f,e) {};\r\n\t\t\t$this.on(is_form ? 'submit query': 'click query', function(e){\r\n\t\t\t\tvar selector = $this.attr('selector');\r\n\t\t\t\tif ($this.is('.disabled,[disabled]')) return false;\r\n\t\t\t\tvar $selector = is_form ? $this.add(selector) : $(selector);\r\n\t\t\t\tif (validator && !$.isEmptyObject(validator.invalid)) //validator is invalid\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t\r\n\t\t\t\tif((selector || is_form) && $selector.serializeArray().length <= 0) //selector is set,but nothing to query\r\n\t\t\t\t{\r\n\t\t\t\t\t$.tips($.QUERY_LANGUAGE.unselected);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar url = $this.attr(is_form ? 'action' : 'href');\r\n\t\t\t\tvar method = $this.attr('method');\r\n\t\t\t\tvar msg = $this.attr('confirm');\r\n\t\t\t\tvar query = function(){\r\n\t\t\t\t\tvar $doms = is_form ? $(':submit,:image',$this)/*.add($this)*/ : $this;\r\n\t\t\t\t\t$doms = $doms.filter(':not(.disabled,[disabled])');\r\n\t\t\t\t\t$doms.prop('disabled',true).attr('disabled','disabled').each(function(){\r\n\t\t\t\t\t\tvar $t = $(this);var o = $t.offset();\r\n\t\t\t\t\t\tif (show_loading) $('<div style=\"position:absolute;left:'+(o.left + $t.width())+'px;top:'+(o.top - 16) +'px;height:16px;width:16px;display:block;z-index:99999\" class=\"query-loading\"><img src=\"data:image/gif;base64,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\"</div>').appendTo('body');\r\n\t\t\t\t\t}); //disabled the submit button\r\n\t\t\t\t\treturn $.query.call($this, url, $selector.serializeArray(), method, callback, alert_it).always(function(){\r\n\t\t\t\t\t\t$('.query-loading').remove();\r\n\t\t\t\t\t\t$doms.prop('disabled',false).removeAttr('disabled');\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t\tif (msg) {\r\n\t\t\t\t\tmsg = msg.replace('%L', $selector.serializeArray().length);\r\n\t\t\t\t\t$.confirm(msg, query);\r\n\t\t\t\t} else\r\n\t\t\t\t\tquery.call(this);\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\t});\r\n})(jQuery);"]}