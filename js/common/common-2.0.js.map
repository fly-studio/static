{"version":3,"sources":["utils.js","polyfill.js"],"names":["probability_rand","arr","result","sum","k","parseFloat","randNum","rand","v","bytesToSize","bytes","sizes","i","Math","floor","log","pow","toPrecision","base","derive","baseSprite","baseArgs","r","apply","prop","prototype","proto","constructor","clone","obj","o","Array","len","length","push","j","min","max","argc","arguments","Error","random","print_r","array","return_val","output","pad_char","pad_val","getFuncName","this","window","document","fn","name","exec","repeat_char","str","formatArray","cur_depth","base_pad","thick_pad","key","Object","toString","call","undefined","alert","array_change_key_case","cs","caseFnc","tmpArr","serialize","mixedValue","val","okey","ktype","vals","count","_utf8Size","size","l","code","charCodeAt","_getType","inp","match","cons","types","type","toLowerCase","round","hasOwnProperty","parseInt","unserialize","data","$global","global","utf8Overhead","chr","zeroCodes","indexOf","error","msg","filename","line","readUntil","offset","stopchr","buf","slice","join","readChrs","_unserialize","dtype","dataoffset","keyandchrs","keys","contig","readdata","readData","ccount","stringlength","kprops","kchrs","vprops","vchrs","value","chrs","typeconvert","x","flash_version","c","d","a","b","navigator","plugins","e","description","mimeTypes","f","enabledPlugin","g","ActiveXObject","GetVariable","h","resizeImg","img","maxWidth","maxHeight","jQuery","css","HeightWidth","offsetHeight","offsetWidth","WidthHeight","width","height","OS","is_phone","test","userAgent","ios","android","symbian","blackberry","webos","wp","wechat","supportTransition","s","createElement","style","window_size","innerWidth","documentElement","clientWidth","body","innerHeight","clientHeight","t","n","console","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","id","setTimeout","clearTimeout","searchElement","fromIndex","TypeError","abs","Infinity","forEach","func","thisp","map","fun","res","isNaN","String","repeat","orginal","substr","toHTML","replace","Number","toPre","noHTML","aLength","pad","pad_length","pad_string","pad_type","pad_to_go","half","str_pad_repeater","collect","input","ceil","number_format","decimals","dec_point","thousands_sep","number","isFinite","prec","sep","dec","toFixedFix","toFixed","split","toDate","format_string","y","m","ms","w","array_week","array_month","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","getDay","_aggregates","D","T","F","R","%","S","MS","M","H","B","Y","W","A","toLocaleDateString","X","toLocaleTimeString","toLocaleString","$0","$1","toTimeString","toCountDownString","count_down_ms","location","query","param","params","deparam","querystring","$","isUndefined","isjQuery","confirm_callback","$dfd","Deferred","alert_interface","isFunction","resolve","promise","prompt","cancel_callback","_confirm","_cancel","reject","prompt_interface","toast","timeout","toast_interface","confirm","confirm_interface","extend","checkAll","$selector","on","checked_length","filter","checked","indeterminate","add","each","count_down","format","delta","duration","interval","clearInterval","count-down-delta","count-down-format","$this","count_down_method","target","cd","text","is","html","triggerHandler","setInterval"],"mappings":"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","file":"../common-2.0.js","sourcesContent":["/**\r\n * @author Fly Mirage\r\n * \r\n */\r\n\r\n(function(){\r\n\t//OS\r\n\twindow.OS = {\r\n\t\tis_phone : /(Android|webOS|iPhone|Windows\\sPhone|iPod|BlackBerry|SymbianOS)/i.test(navigator.userAgent),\r\n\t\tios : /(iPod|iPhone|iPad)/i.test(navigator.userAgent),\r\n\t\tandroid : /Android/i.test(navigator.userAgent),\r\n\t\tsymbian : /SymbianOS/i.test(navigator.userAgent),\r\n\t\tblackberry : /BlackBerry/i.test(navigator.userAgent),\r\n\t\twebos : /webOS/i.test(navigator.userAgent),\r\n\t\twp : /Windows\\sPhone/i.test(navigator.userAgent),\r\n\t\twechat : /MicroMessenger/i.test(navigator.userAgent)\r\n\t};\r\n\t//supportTransition\r\n\twindow.supportTransition = (function(){\r\n\t\tvar s = document.createElement('p').style,\r\n\t\tr = 'transition' in s ||\r\n\t\t\t'WebkitTransition' in s ||\r\n\t\t\t'MozTransition' in s ||\r\n\t\t\t'msTransition' in s ||\r\n\t\t\t'OTransition' in s;\r\n\t\ts = null;\r\n\t\treturn r;\r\n\t})();\r\n\t/* Gets window width cross browser */\r\n\twindow.window_size = function(){\r\n\t\treturn {'width' : window.innerWidth\r\n\t\t\t\t|| document.documentElement.clientWidth\r\n\t\t\t\t|| document.body.clientWidth,\r\n\t\t\t\t'height' : window.innerHeight\r\n\t\t\t\t|| document.documentElement.clientHeight\r\n\t\t\t\t|| document.body.clientHeight,\r\n\t\t\t};\r\n\t};\r\n})();\r\n\r\n/**\r\n * 此函数主要是为了计算概率，用于出奖\r\n * probability_rand({'iPhone': 1, 'iPad': 0, '代金券': 100, '无奖': 1000});\r\n * iPhone的概率为 1 / (1 + 0 + 100 + 1000); 基本很难中奖 :P\r\n * 按照概率返回Key\r\n * \r\n * @param  {Object} arr 概率表，参考上例\r\n * @return {String}     返回Key\r\n */\r\nfunction probability_rand(arr) { \r\n\tvar result = false; \r\n\t//概率数组的总概率精度 \r\n\tvar sum = 0;\r\n\tfor (var k in arr) sum += parseFloat(arr[k]);\r\n\t//arsort($arr);\r\n\t//概率数组循环 \r\n\tfor (k in arr) { \r\n\t\tvar randNum = rand(1, sum);\r\n\t\tvar v = parseFloat(arr[k]);\r\n\t\tif (randNum <= v) {\r\n\t\t\tresult = k;\r\n\t\t\tbreak; \r\n\t\t} else {\r\n\t\t\tsum -= v;\r\n\t\t}\r\n\t} \r\n\treturn result; \r\n}\r\n\r\n/**\r\n * 字节转义为可阅读的MB/GB等\r\n * \r\n * @param  {Number} bytes 字节数\r\n * @return {String}\r\n */\r\nfunction bytesToSize(bytes) {\r\n\tif (bytes === 0) return '0 B';\r\n\tvar k = 1024, sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\r\n\ti = Math.floor(Math.log(bytes) / Math.log(k));\r\n\treturn (bytes / Math.pow(k, i)).toPrecision(3) + ' ' + sizes[i];\r\n}","\r\n/**\r\n * Avoid `console` errors in browsers that lack a console \r\n * IE 6,7没有console，此处仅仅为了修复报错。\r\n */\r\n(function(){var e;var t=function(){};var n=[\"assert\",\"clear\",\"count\",\"debug\",\"dir\",\"dirxml\",\"error\",\"exception\",\"group\",\"groupCollapsed\",\"groupEnd\",\"info\",\"log\",\"markTimeline\",\"profile\",\"profileEnd\",\"table\",\"time\",\"timeEnd\",\"timeStamp\",\"trace\",\"warn\"];var r=n.length;var i=window.console=window.console||{};while(r--){e=n[r];if(!i[e]){i[e]=t;}}})();\r\n// 解决浏览器无requestAnimationFrame的情况\r\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\r\n// requestAnimationFrame polyfill by Erik Möller. fixes from Paul Irish and Tino Zijdel\r\n// MIT license\r\n(function() {\r\n\tvar lastTime = 0;\r\n\tvar vendors = ['ms', 'moz', 'webkit', 'o'];\r\n\tfor (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n\t\twindow.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n\t\twindow.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n\t}\r\n\tif (!window.requestAnimationFrame) window.requestAnimationFrame = function(callback, element) {\r\n\t\tvar currTime = new Date().getTime();\r\n\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n\t\tvar id = window.setTimeout(function() {\r\n\t\t\tcallback(currTime + timeToCall);\r\n\t\t}, timeToCall);\r\n\t\tlastTime = currTime + timeToCall;\r\n\t\treturn id;\r\n\t};\r\n\tif (!window.cancelAnimationFrame) window.cancelAnimationFrame = function(id) {\r\n\t\tclearTimeout(id);\r\n\t};\r\n}());\r\n/**\r\n * 模拟继承\r\n *\r\n * 基类 function A(){}; A.protype.setXX = function(){};\r\n * 子类\r\n * function B(){\r\n * \t\t base(this, A, []); //加载第一行，表示继承a类\r\n * \t\t ...\r\n * };\r\n * var b = new B(); b.setXX(); //可以使用父级的方法\r\n * \r\n * @param  {Object} derive     子类，一般为this\r\n * @param  {Object} baseSprite 基类\r\n * @param  {Object} baseArgs   需要传递的参数\r\n */\r\nfunction base(derive, baseSprite, baseArgs){  \r\n\tvar r = baseSprite.apply(derive, baseArgs);\r\n\r\n\tfor(var prop in baseSprite.prototype){  \r\n\t\tvar proto = derive.constructor.prototype;  \r\n\t\tif(!proto[prop])\r\n\t\t\tproto[prop] = baseSprite.prototype[prop];   \r\n\t}\r\n\treturn r;  \r\n}\r\n/**\r\n * Clone 一个Object，类似PHP等语言的clone\r\n * 类似于上例base\r\n * \r\n * @param  {Object} obj 源\r\n * @return {Object}     \r\n */\r\nfunction clone(obj) {\r\n\tvar o;\r\n\tif (typeof obj == \"object\") {\r\n\t\tif (obj === null) {\r\n\t\t\to = null;\r\n\t\t} else {\r\n\t\t\tif (obj instanceof Array) {\r\n\t\t\t\to = [];\r\n\t\t\t\tfor (var i = 0, len = obj.length; i < len; i++)\r\n\t\t\t\t\to.push(clone(obj[i]));\r\n\t\t\t} else {\r\n\t\t\t\to = {};\r\n\t\t\t\tfor (var j in obj)\r\n\t\t\t\t\to[j] = clone(obj[j]);\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\to = obj;\r\n\t}\r\n\treturn o;\r\n}\r\n/**\r\n * 返回min~max之间的随机整数\r\n * \r\n * @param  {Int} min 最小随机范围\r\n * @param  {Int} max 最大随机范围\r\n * @return {Int}\r\n */\r\nfunction rand(min, max) {\r\n\tvar argc = arguments.length;\r\n\tif (argc === 0) {\r\n\tmin = 0;\r\n\tmax = 2147483647;\r\n\t} else if (argc === 1) {\r\n\tthrow new Error('Warning: rand() expects exactly 2 parameters, 1 given');\r\n\t}\r\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n/**\r\n * 查找数组中的项，返回下标，没有找到返回-1\r\n * [1,2,3].indexOf(2);  ==> 1\r\n */\r\nif (!Array.prototype.indexOf) {\r\n\tArray.prototype.indexOf = function (searchElement, fromIndex) {\r\n\t\tif ( this === undefined || this === null ) {\r\n\t\t\tthrow new TypeError( '\"this\" is null or not defined' );\r\n\t\t}\r\n\t\tvar length = this.length >>> 0; // Hack to convert object.length to a UInt32\r\n\t\tfromIndex = +fromIndex || 0;\r\n\t\tif (Math.abs(fromIndex) === Infinity) {\r\n\t\t\tfromIndex = 0;\r\n\t\t}\r\n\t\tif (fromIndex < 0) {\r\n\t\t\tfromIndex += length;\r\n\t\t\tif (fromIndex < 0) {\r\n\t\t\t\tfromIndex = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (;fromIndex < length; fromIndex++) {\r\n\t\t\tif (this[fromIndex] === searchElement)\r\n\t\t\t\treturn fromIndex;\r\n\t\t}\r\n\t\treturn -1;\r\n\t};\r\n}\r\n/**\r\n * 循环数组中的项，遇到return false则停止循环\r\n * \r\n * [1,2,3].forEach(function(value, key, arr){\r\n * \t\t//return false\r\n * });\r\n */\r\nif (!Array.prototype.forEach) {\r\n\tArray.prototype.forEach = function(func /*, thisp*/) {\r\n\t\tif (typeof func != \"function\") throw new TypeError();\r\n\t\tvar thisp = arguments[1];\r\n\t\tfor (var i = 0, n = this.length; i < n; i++) {\r\n\t\t\tif (i in this)\r\n\t\t\t\tif (func.apply(thisp, [this[i], i, this]) === false) break;\r\n\t\t}\r\n\t};\r\n}\r\n/**\r\n * 循环数组中的项，并可以修改其值，然后返回新数据\r\n * var result = [1,2,3].forEach(function(value, key, arr){\r\n * \t\treturn value * 2;\r\n * });\r\n * 返回 [2,4,6]\r\n */\r\nif (!Array.prototype.map) {\r\n\tArray.prototype.map = function(fun /*, thisp*/) {\r\n\t\tvar len = this.length;\r\n\t\tif (typeof fun != \"function\")\r\n\t\t\tthrow new TypeError();\r\n\t\r\n\t\tvar res = new Array(len);\r\n\t\tvar thisp = arguments[1];\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\tif (i in this)\r\n\t\t\t\tres[i] = fun.call(thisp, this[i], i, this);\r\n\t\t}\r\n\t\treturn res;\r\n\t};\r\n}\r\n/**\r\n * 数组中数字相加的总数\r\n * [1,2,3].sum();\r\n * 返回 6\r\n */\r\nif (!Array.prototype.sum) {\r\n\tArray.prototype.sum = function() {\r\n\t\tvar sum = 0;\r\n\t\tfor (var key in this) {\r\n\t\t\tif (!isNaN(parseFloat(this[key])))\r\n\t\t\t\tsum += parseFloat(this[key]);\r\n\t\t}\r\n\t\treturn sum;\r\n\t};\r\n}\r\n/**\r\n * 重复本字符串\r\n * var str = '123'.repeat(5);\r\n * 返回 '123123123123123'\r\n * \r\n * @param  {Number} len 循环次数\r\n * @return {String}\r\n */\r\nif (!String.prototype.repeat) {\r\n\tString.prototype.repeat = function(len) {\r\n\t\tvar orginal = this;\r\n\t\tvar str = this;\r\n\t\twhile (str.length < len) {\r\n\t\t\tstr += orginal;\r\n\t\t}\r\n\t\tstr = str.substr(0, len);\r\n\t\treturn str;\r\n\t};\r\n}\r\n/**\r\n * 将一个Array或者Object按树形结构alert出来、或返回\r\n * \r\n * @param  {Objbect/Array} array      传入的数组或者对象\r\n * @param  {Boolean} return_val 是否返回，默认是alert出\r\n * @return {String}             树形结构\r\n */\r\nfunction print_r(array, return_val) {\r\n\tvar output = '',\r\n\tpad_char = ' ',\r\n\tpad_val = 4,\r\n\td = this.window.document,\r\n\tgetFuncName = function(fn) {\r\n\t\tvar name = (/\\W*function\\s+([\\w\\$]+)\\s*\\(/).exec(fn);\r\n\t\tif (!name) return '(Anonymous)';\r\n\t\treturn name[1];\r\n\t};\r\n\trepeat_char = function(len, pad_char) {\r\n\t\tvar str = '';\r\n\t\tfor (var i = 0; i < len; i++) \r\n\t\t\tstr += pad_char;\r\n\t\treturn str;\r\n\t};\r\n\tformatArray = function(obj, cur_depth, pad_val, pad_char) {\r\n\t\tif (cur_depth > 0)\r\n\t\t\tcur_depth++;\r\n\r\n\t\tvar base_pad = repeat_char(pad_val * cur_depth, pad_char);\r\n\t\tvar thick_pad = repeat_char(pad_val * (cur_depth + 1), pad_char);\r\n\t\tvar str = '';\r\n\r\n\t\tif (typeof obj === 'object' && obj !== null && obj.constructor && getFuncName(obj.constructor) !== 'PHPJS_Resource') {\r\n\t\t\tstr += 'Array\\n' + base_pad + '(\\n';\r\n\t\t\tfor (var key in obj) {\r\n\t\t\t\tif (Object.prototype.toString.call(obj[key]) === '[object Array]')\r\n\t\t\t\t\tstr += thick_pad + '[' + key + '] => ' + formatArray(obj[key], cur_depth + 1, pad_val, pad_char);\r\n\t\t\t\telse \r\n\t\t\t\t\tstr += thick_pad + '[' + key + '] => ' + obj[key] + '\\n';\r\n\t\t\t}\r\n\t\t\tstr += base_pad + ')\\n';\r\n\t\t} else if (obj === null || obj === undefined)\r\n\t\t\tstr = '';\r\n\t\telse // for our \"resource\" class\r\n\t\t\tstr = obj.toString();\r\n\t\treturn str;\r\n\t};\r\n\r\n\toutput = formatArray(array, 0, pad_val, pad_char);\r\n\tif (return_val !== true) {\r\n\t\talert(output);\r\n\t\treturn true;\r\n\t}\r\n\treturn output;\r\n}\r\n/**\r\n * 改变Object的Key的大小写，本函数和PHP一样\r\n * \r\n * @param  {Object} array 输入的Object\r\n * @param {String} [varname] 'CASE_LOWER' 小写，其它大写\r\n * @return {Object}                       返回Key已经大小写的Object\r\n */\r\nfunction array_change_key_case (array, cs) { // eslint-disable-line camelcase\r\n\t//  discuss at: http://locutus.io/php/array_change_key_case/\r\n\t// original by: Ates Goral (http://magnetiq.com)\r\n\t// improved by: marrtins\r\n\t// improved by: Brett Zamir (http://brett-zamir.me)\r\n\t//   example 1: array_change_key_case(42)\r\n\t//   returns 1: false\r\n\t//   example 2: array_change_key_case([ 3, 5 ])\r\n\t//   returns 2: [3, 5]\r\n\t//   example 3: array_change_key_case({ FuBaR: 42 })\r\n\t//   returns 3: {\"fubar\": 42}\r\n\t//   example 4: array_change_key_case({ FuBaR: 42 }, 'CASE_LOWER')\r\n\t//   returns 4: {\"fubar\": 42}\r\n\t//   example 5: array_change_key_case({ FuBaR: 42 }, 'CASE_UPPER')\r\n\t//   returns 5: {\"FUBAR\": 42}\r\n\t//   example 6: array_change_key_case({ FuBaR: 42 }, 2)\r\n\t//   returns 6: {\"FUBAR\": 42}\r\n\r\n\tvar caseFnc;\r\n\tvar key;\r\n\tvar tmpArr = {};\r\n\r\n\tif (Object.prototype.toString.call(array) === '[object Array]') {\r\n\t\treturn array;\r\n\t}\r\n\r\n\tif (array && typeof array === 'object') {\r\n\t\tcaseFnc = (!cs || cs === 'CASE_LOWER') ? 'toLowerCase' : 'toUpperCase';\r\n\t\tfor (key in array) {\r\n\t\t\ttmpArr[key[caseFnc]()] = array[key];\r\n\t\t}\r\n\t\treturn tmpArr;\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n/**\r\n * 序列化\r\n * @param  {mixed} mixedValue Object/Array/String/...\r\n * @return {String}           序列化后的字符串\r\n */\r\nfunction serialize (mixedValue) {\r\n\t//  discuss at: http://locutus.io/php/serialize/\r\n\t// original by: Arpad Ray (mailto:arpad@php.net)\r\n\t// improved by: Dino\r\n\t// improved by: Le Torbi (http://www.letorbi.de/)\r\n\t// improved by: Kevin van Zonneveld (http://kvz.io/)\r\n\t// bugfixed by: Andrej Pavlovic\r\n\t// bugfixed by: Garagoth\r\n\t// bugfixed by: Russell Walker (http://www.nbill.co.uk/)\r\n\t// bugfixed by: Jamie Beck (http://www.terabit.ca/)\r\n\t// bugfixed by: Kevin van Zonneveld (http://kvz.io/)\r\n\t// bugfixed by: Ben (http://benblume.co.uk/)\r\n\t// bugfixed by: Codestar (http://codestarlive.com/)\r\n\t//    input by: DtTvB (http://dt.in.th/2008-09-16.string-length-in-bytes.html)\r\n\t//    input by: Martin (http://www.erlenwiese.de/)\r\n\t//      note 1: We feel the main purpose of this function should be to ease\r\n\t//      note 1: the transport of data between php & js\r\n\t//      note 1: Aiming for PHP-compatibility, we have to translate objects to arrays\r\n\t//   example 1: serialize(['Kevin', 'van', 'Zonneveld'])\r\n\t//   returns 1: 'a:3:{i:0;s:5:\"Kevin\";i:1;s:3:\"van\";i:2;s:9:\"Zonneveld\";}'\r\n\t//   example 2: serialize({firstName: 'Kevin', midName: 'van'})\r\n\t//   returns 2: 'a:2:{s:9:\"firstName\";s:5:\"Kevin\";s:7:\"midName\";s:3:\"van\";}'\r\n\r\n\tvar val, key, okey;\r\n\tvar ktype = '';\r\n\tvar vals = '';\r\n\tvar count = 0;\r\n\r\n\tvar _utf8Size = function (str) {\r\n\t\tvar size = 0;\r\n\t\tvar i = 0;\r\n\t\tvar l = str.length;\r\n\t\tvar code = '';\r\n\t\tfor (i = 0; i < l; i++) {\r\n\t\t\tcode = str.charCodeAt(i);\r\n\t\t\tif (code < 0x0080) {\r\n\t\t\t\tsize += 1;\r\n\t\t\t} else if (code < 0x0800) {\r\n\t\t\t\tsize += 2;\r\n\t\t\t} else {\r\n\t\t\t\tsize += 3;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn size;\r\n\t};\r\n\r\n\tvar _getType = function (inp) {\r\n\t\tvar match;\r\n\t\tvar key;\r\n\t\tvar cons;\r\n\t\tvar types;\r\n\t\tvar type = typeof inp;\r\n\r\n\t\tif (type === 'object' && !inp) {\r\n\t\t\treturn 'null';\r\n\t\t}\r\n\r\n\t\tif (type === 'object') {\r\n\t\t\tif (!inp.constructor) {\r\n\t\t\t\treturn 'object';\r\n\t\t\t}\r\n\t\t\tcons = inp.constructor.toString();\r\n\t\t\tmatch = cons.match(/(\\w+)\\(/);\r\n\t\t\tif (match) {\r\n\t\t\t\tcons = match[1].toLowerCase();\r\n\t\t\t}\r\n\t\t\ttypes = ['boolean', 'number', 'string', 'array'];\r\n\t\t\tfor (key in types) {\r\n\t\t\t\tif (cons === types[key]) {\r\n\t\t\t\t\ttype = types[key];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn type;\r\n\t};\r\n\r\n\tvar type = _getType(mixedValue);\r\n\r\n\tswitch (type) {\r\n\t\tcase 'function':\r\n\t\t\tval = '';\r\n\t\t\tbreak;\r\n\t\tcase 'boolean':\r\n\t\t\tval = 'b:' + (mixedValue ? '1' : '0');\r\n\t\t\tbreak;\r\n\t\tcase 'number':\r\n\t\t\tval = (Math.round(mixedValue) === mixedValue ? 'i' : 'd') + ':' + mixedValue;\r\n\t\t\tbreak;\r\n\t\tcase 'string':\r\n\t\t\tval = 's:' + _utf8Size(mixedValue) + ':\"' + mixedValue + '\"';\r\n\t\t\tbreak;\r\n\t\tcase 'array':\r\n\t\tcase 'object':\r\n\t\t\tval = 'a';\r\n\t\t\t/*\r\n\t\t\tif (type === 'object') {\r\n\t\t\t\tvar objname = mixedValue.constructor.toString().match(/(\\w+)\\(\\)/);\r\n\t\t\t\tif (objname === undefined) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tobjname[1] = serialize(objname[1]);\r\n\t\t\t\tval = 'O' + objname[1].substring(1, objname[1].length - 1);\r\n\t\t\t}\r\n\t\t\t*/\r\n\r\n\t\t\tfor (key in mixedValue) {\r\n\t\t\t\tif (mixedValue.hasOwnProperty(key)) {\r\n\t\t\t\t\tktype = _getType(mixedValue[key]);\r\n\t\t\t\t\tif (ktype === 'function') {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tokey = (key.match(/^[0-9]+$/) ? parseInt(key, 10) : key);\r\n\t\t\t\t\tvals += serialize(okey) + serialize(mixedValue[key]);\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tval += ':' + count + ':{' + vals + '}';\r\n\t\t\tbreak;\r\n\t\t//case 'undefined':\r\n\t\tdefault:\r\n\t\t\t// Fall-through\r\n\t\t\t// if the JS object has a property which contains a null value,\r\n\t\t\t// the string cannot be unserialized by PHP\r\n\t\t\tval = 'N';\r\n\t\t\tbreak;\r\n\t}\r\n\tif (type !== 'object' && type !== 'array') {\r\n\t\tval += ';';\r\n\t}\r\n\r\n\treturn val;\r\n}\r\n/**\r\n * 反序列化\r\n * @param  {String} data \r\n * @return {mixed}      得到的Object/Array/String/...\r\n */\r\nfunction unserialize (data) {\r\n\t//  discuss at: http://locutus.io/php/unserialize/\r\n\t// original by: Arpad Ray (mailto:arpad@php.net)\r\n\t// improved by: Pedro Tainha (http://www.pedrotainha.com)\r\n\t// improved by: Kevin van Zonneveld (http://kvz.io)\r\n\t// improved by: Kevin van Zonneveld (http://kvz.io)\r\n\t// improved by: Chris\r\n\t// improved by: James\r\n\t// improved by: Le Torbi\r\n\t// improved by: Eli Skeggs\r\n\t// bugfixed by: dptr1988\r\n\t// bugfixed by: Kevin van Zonneveld (http://kvz.io)\r\n\t// bugfixed by: Brett Zamir (http://brett-zamir.me)\r\n\t//  revised by: d3x\r\n\t//    input by: Brett Zamir (http://brett-zamir.me)\r\n\t//    input by: Martin (http://www.erlenwiese.de/)\r\n\t//    input by: kilops\r\n\t//    input by: Jaroslaw Czarniak\r\n\t//      note 1: We feel the main purpose of this function should be\r\n\t//      note 1: to ease the transport of data between php & js\r\n\t//      note 1: Aiming for PHP-compatibility, we have to translate objects to arrays\r\n\t//   example 1: unserialize('a:3:{i:0;s:5:\"Kevin\";i:1;s:3:\"van\";i:2;s:9:\"Zonneveld\";}')\r\n\t//   returns 1: ['Kevin', 'van', 'Zonneveld']\r\n\t//   example 2: unserialize('a:2:{s:9:\"firstName\";s:5:\"Kevin\";s:7:\"midName\";s:3:\"van\";}')\r\n\t//   returns 2: {firstName: 'Kevin', midName: 'van'}\r\n\r\n\tvar $global = (typeof window !== 'undefined' ? window : global)\r\n\r\n\tvar utf8Overhead = function (chr) {\r\n\t\t// http://locutus.io/php/unserialize:571#comment_95906\r\n\t\tvar code = chr.charCodeAt(0)\r\n\t\tvar zeroCodes = [\r\n\t\t\t338,\r\n\t\t\t339,\r\n\t\t\t352,\r\n\t\t\t353,\r\n\t\t\t376,\r\n\t\t\t402,\r\n\t\t\t8211,\r\n\t\t\t8212,\r\n\t\t\t8216,\r\n\t\t\t8217,\r\n\t\t\t8218,\r\n\t\t\t8220,\r\n\t\t\t8221,\r\n\t\t\t8222,\r\n\t\t\t8224,\r\n\t\t\t8225,\r\n\t\t\t8226,\r\n\t\t\t8230,\r\n\t\t\t8240,\r\n\t\t\t8364,\r\n\t\t\t8482\r\n\t\t]\r\n\t\tif (code < 0x0080 || code >= 0x00A0 && code <= 0x00FF || zeroCodes.indexOf(code) !== -1) {\r\n\t\t\treturn 0\r\n\t\t}\r\n\t\tif (code < 0x0800) {\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\treturn 2\r\n\t}\r\n\tvar error = function (type,\r\n\t\tmsg, filename, line) {\r\n\t\tthrow new $global[type](msg, filename, line)\r\n\t}\r\n\tvar readUntil = function (data, offset, stopchr) {\r\n\t\tvar i = 2\r\n\t\tvar buf = []\r\n\t\tvar chr = data.slice(offset, offset + 1)\r\n\r\n\t\twhile (chr !== stopchr) {\r\n\t\t\tif ((i + offset) > data.length) {\r\n\t\t\t\terror('Error', 'Invalid')\r\n\t\t\t}\r\n\t\t\tbuf.push(chr)\r\n\t\t\tchr = data.slice(offset + (i - 1), offset + i)\r\n\t\t\ti += 1\r\n\t\t}\r\n\t\treturn [buf.length, buf.join('')]\r\n\t}\r\n\tvar readChrs = function (data, offset, length) {\r\n\t\tvar i, chr, buf\r\n\r\n\t\tbuf = []\r\n\t\tfor (i = 0; i < length; i++) {\r\n\t\t\tchr = data.slice(offset + (i - 1), offset + i)\r\n\t\t\tbuf.push(chr)\r\n\t\t\tlength -= utf8Overhead(chr)\r\n\t\t}\r\n\t\treturn [buf.length, buf.join('')]\r\n\t}\r\n\tvar _unserialize = function (data, offset) {\r\n\t\tvar dtype\r\n\t\tvar dataoffset\r\n\t\tvar keyandchrs\r\n\t\tvar keys\r\n\t\tvar contig\r\n\t\tvar length\r\n\t\tvar array\r\n\t\tvar readdata\r\n\t\tvar readData\r\n\t\tvar ccount\r\n\t\tvar stringlength\r\n\t\tvar i\r\n\t\tvar key\r\n\t\tvar kprops\r\n\t\tvar kchrs\r\n\t\tvar vprops\r\n\t\tvar vchrs\r\n\t\tvar value\r\n\t\tvar chrs = 0\r\n\t\tvar typeconvert = function (x) {\r\n\t\t\treturn x\r\n\t\t}\r\n\r\n\t\tif (!offset) {\r\n\t\t\toffset = 0\r\n\t\t}\r\n\t\tdtype = (data.slice(offset, offset + 1)).toLowerCase()\r\n\r\n\t\tdataoffset = offset + 2\r\n\r\n\t\tswitch (dtype) {\r\n\t\t\tcase 'i':\r\n\t\t\t\ttypeconvert = function (x) {\r\n\t\t\t\t\treturn parseInt(x, 10)\r\n\t\t\t\t}\r\n\t\t\t\treadData = readUntil(data, dataoffset, ';')\r\n\t\t\t\tchrs = readData[0]\r\n\t\t\t\treaddata = readData[1]\r\n\t\t\t\tdataoffset += chrs + 1\r\n\t\t\t\tbreak\r\n\t\t\tcase 'b':\r\n\t\t\t\ttypeconvert = function (x) {\r\n\t\t\t\t\treturn parseInt(x, 10) !== 0\r\n\t\t\t\t}\r\n\t\t\t\treadData = readUntil(data, dataoffset, ';')\r\n\t\t\t\tchrs = readData[0]\r\n\t\t\t\treaddata = readData[1]\r\n\t\t\t\tdataoffset += chrs + 1\r\n\t\t\t\tbreak\r\n\t\t\tcase 'd':\r\n\t\t\t\ttypeconvert = function (x) {\r\n\t\t\t\t\treturn parseFloat(x)\r\n\t\t\t\t}\r\n\t\t\t\treadData = readUntil(data, dataoffset, ';')\r\n\t\t\t\tchrs = readData[0]\r\n\t\t\t\treaddata = readData[1]\r\n\t\t\t\tdataoffset += chrs + 1\r\n\t\t\t\tbreak\r\n\t\t\tcase 'n':\r\n\t\t\t\treaddata = null\r\n\t\t\t\tbreak\r\n\t\t\tcase 's':\r\n\t\t\t\tccount = readUntil(data, dataoffset, ':')\r\n\t\t\t\tchrs = ccount[0]\r\n\t\t\t\tstringlength = ccount[1]\r\n\t\t\t\tdataoffset += chrs + 2\r\n\r\n\t\t\t\treadData = readChrs(data, dataoffset + 1, parseInt(stringlength, 10))\r\n\t\t\t\tchrs = readData[0]\r\n\t\t\t\treaddata = readData[1]\r\n\t\t\t\tdataoffset += chrs + 2\r\n\t\t\t\tif (chrs !== parseInt(stringlength, 10) && chrs !== readdata.length) {\r\n\t\t\t\t\terror('SyntaxError', 'String length mismatch')\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t\tcase 'a':\r\n\t\t\t\treaddata = {}\r\n\r\n\t\t\t\tkeyandchrs = readUntil(data, dataoffset, ':')\r\n\t\t\t\tchrs = keyandchrs[0]\r\n\t\t\t\tkeys = keyandchrs[1]\r\n\t\t\t\tdataoffset += chrs + 2\r\n\r\n\t\t\t\tlength = parseInt(keys, 10)\r\n\t\t\t\tcontig = true\r\n\r\n\t\t\t\tfor (i = 0; i < length; i++) {\r\n\t\t\t\t\tkprops = _unserialize(data, dataoffset)\r\n\t\t\t\t\tkchrs = kprops[1]\r\n\t\t\t\t\tkey = kprops[2]\r\n\t\t\t\t\tdataoffset += kchrs\r\n\r\n\t\t\t\t\tvprops = _unserialize(data, dataoffset)\r\n\t\t\t\t\tvchrs = vprops[1]\r\n\t\t\t\t\tvalue = vprops[2]\r\n\t\t\t\t\tdataoffset += vchrs\r\n\r\n\t\t\t\t\tif (key !== i) {\r\n\t\t\t\t\t\tcontig = false\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treaddata[key] = value\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (contig) {\r\n\t\t\t\t\tarray = new Array(length)\r\n\t\t\t\t\tfor (i = 0; i < length; i++) {\r\n\t\t\t\t\t\tarray[i] = readdata[i]\r\n\t\t\t\t\t}\r\n\t\t\t\t\treaddata = array\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdataoffset += 1\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\terror('SyntaxError', 'Unknown / Unhandled data type(s): ' + dtype)\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t\treturn [dtype, dataoffset - offset, typeconvert(readdata)]\r\n\t}\r\n\r\n\treturn _unserialize((data + ''), 0)[2]\r\n}\r\n/**\r\n * 转义字符串的HTML字符，主要有 < > \" ' &\r\n * var str = '<a href=\"xxx\">'.toHTML();\r\n * 返回 '&lt;a href=&quot;xxx&quot;&gt;'\r\n * \r\n * @return {String}\r\n */\r\n\r\nString.prototype.toHTML = function() {\r\n\treturn this.replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#039;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n};\r\n/**\r\n * 同上\r\n * \r\n * @return {String}\r\n */\r\nNumber.prototype.toHTML = function() {\r\n\treturn this.toString().toHTML();\r\n};\r\n/**\r\n * 转义字符串的空格、回车、制表符，也就是将textarea输入的文本可以原样显示到屏幕\r\n * 类似于<pre>标签\r\n * \r\n * var str = \" 空格\\n第\\t二行\".toPre();\r\n * 返回 '&nbsp;空格<br />第&nbsp;&nbsp;&nbsp;&nbsp;二行'\r\n * \r\n * @return {String}\r\n */\r\nString.prototype.toPre = function() {\r\n\treturn this.replace(/\\040/g, '&nbsp;').replace(/\\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;').replace(/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n)/g, '$1<br />$2');\r\n};\r\n/**\r\n * 删除所有HTML标签\r\n * \r\n * var str = \"<a href=''>我爱你</a>\".toPre();\r\n * 返回 '我爱你'\r\n * \r\n * @return {String}\r\n */\r\nString.prototype.noHTML = function() {\r\n\treturn this.replace(/<script[^>]*?>.*?<\\/script>/ig, '').replace(/<[\\/\\!]*?[^<>]*?>/g, '').replace(/<style[^>]*?>.*?<\\/style>/ig, '').replace(/<![\\s\\S]*?--[ \\t\\n\\r]*>/, '').replace(/([\\r\\n])[\\s]+/,'').replace(/&(quot|#34|amp|#38|lt|#60|gt|#62|nbsp|#160)/i,'');\r\n};\r\n/**\r\n * 返回字符串长度，汉字或其它非英文字符按2个长度算\r\n * \r\n * var str = \"我爱你abc\".aLength();\r\n * 返回 9\r\n * \r\n * @return {String}\r\n */\r\nString.prototype.aLength = function() {\r\n\tvar a = this.match(/[^\\x00-\\x80]/g);\r\n\treturn this.length + (a ? a.length : 0);\r\n};\r\n/**\r\n * 字符串前后加上补充字符串，使其达到定义的长度\r\n * \r\n * @example 1: 'Kevin van Zonneveld'.pad(30, '-=', 'STR_PAD_LEFT');\r\n * @returns 1: '-=-=-=-=-=-Kevin van Zonneveld'\r\n * @example 2: 'Kevin van Zonneveld'.pad(30, '-', 'STR_PAD_BOTH');\r\n * @returns 2: '------Kevin van Zonneveld-----'\r\n * \r\n * @param  {Int} pad_length 最终长度\r\n * @param  {String} pad_string 需要补充的字符串\r\n * @param  {String} pad_type   'STR_PAD_LEFT' 或 'STR_PAD_RIGHT' 或 'STR_PAD_BOTH'\r\n * @return {String}            \r\n */\r\nString.prototype.pad = function(pad_length, pad_string, pad_type) {\r\n\tvar half = '',pad_to_go;\r\n\tvar str_pad_repeater = function(s, len) {\r\n\t\tvar collect = '',i;\r\n\t\twhile (collect.length < len) {\r\n\t\t\tcollect += s;\r\n\t\t}\r\n\t\tcollect = collect.substr(0, len);\r\n\t\treturn collect;\r\n\t};\r\n\r\n\tvar input = this.toString() + '';\r\n\tpad_string = pad_string !== undefined ? pad_string : ' ';\r\n\r\n\tif (pad_type !== 'STR_PAD_LEFT' && pad_type !== 'STR_PAD_RIGHT' && pad_type !== 'STR_PAD_BOTH')\r\n\t\tpad_type = 'STR_PAD_LEFT';\r\n \r\n\tif ((pad_to_go = pad_length - input.length) > 0) {\r\n\t\tif (pad_type === 'STR_PAD_LEFT') {\r\n\t\t\tinput = str_pad_repeater(pad_string, pad_to_go) + input;\r\n\t\t} else if (pad_type === 'STR_PAD_RIGHT') {\r\n\t\t\tinput = input + str_pad_repeater(pad_string, pad_to_go);\r\n\t\t} else if (pad_type === 'STR_PAD_BOTH') {\r\n\t\t\thalf = str_pad_repeater(pad_string, Math.ceil(pad_to_go / 2));\r\n\t\t\tinput = half + input + half;\r\n\t\t\tinput = input.substr(0, pad_length);\r\n\t\t}\r\n\t}\r\n\treturn input;\r\n};\r\n/**\r\n * 同上，区别是pad_string默认为字符串'0'\r\n * var str = (100).pad(10);\r\n * 返回 '0000000100'\r\n */\r\nNumber.prototype.pad = function(pad_length, pad_string, pad_type) {\r\n\tpad_string = pad_string !== undefined ? pad_string : '0';\r\n\treturn this.toString().pad(pad_length, pad_string, pad_type);\r\n};\r\n/**\r\n * 等同PHP的同名函数\r\n * 需要保留小数位数，以及修改小数点的符号\r\n * 千分位加上符号\r\n * \r\n * var str = (1231121.234564645).number_format(30, '-=', 2, '$', '\\'');\r\n * 返回 \"1'231'121$23\"\r\n\r\n * \r\n * @param  {Int} decimals 保留小数的位数\r\n * @param  {String} dec_point 小数点使用的字符\r\n * @param  {String} thousands_sep   千分位使用的字符\r\n * @return {String}            \r\n */\r\nString.prototype.number_format = function(decimals, dec_point, thousands_sep) {\r\n\tvar number = (this + '').replace(/[^0-9+\\-Ee.]/g, '');\r\n\tvar n = !isFinite(+number) ? 0 : +number,\r\n\t\tprec = !isFinite(+decimals) ? 0 : Math.abs(decimals),\r\n\t\tsep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,\r\n\t\tdec = (typeof dec_point === 'undefined') ? '.' : dec_point,\r\n\t\ts = '',\r\n\t\ttoFixedFix = function(n, prec) {\r\n\t\t\tvar k = Math.pow(10, prec);\r\n\t\t\treturn '' + (Math.round(n * k) / k).toFixed(prec);\r\n\t\t};\r\n\t// Fix for IE parseFloat(0.55).toFixed(0) = 0;\r\n\ts = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');\r\n\tif (s[0].length > 3) {\r\n\t\ts[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\r\n\t}\r\n\tif ((s[1] || '').length < prec) {\r\n\t\ts[1] = s[1] || '';\r\n\t\ts[1] += new Array(prec - s[1].length + 1)\r\n\t\t.join('0');\r\n\t}\r\n\treturn s.join(dec);\r\n};\r\n/**\r\n * 同上\r\n */\r\nNumber.prototype.number_format = function(decimals, dec_point, thousands_sep) {\r\n\treturn this.toString().number_format(decimals, dec_point, thousands_sep);\r\n};\r\n\r\n/**\r\n * 尝试将一个字符串转化为Date对象\r\n * 支持带微秒的时间戳(unix时间戳 * 1000)、英式时间格式(月/日/年 时:分:秒)等javascript支持的时间格式\r\n * 无法识别则返回当前时间\r\n * \r\n * @return {Date} \r\n */\r\nString.prototype.toDate = function() {\r\n\tvar t = this;\r\n\tif (!isNaN(this))\r\n\t\tt = parseInt(this);\r\n\tt = new Date(t);\r\n\tif (isNaN(t.getTime()))\r\n\t\tt = new Date();\r\n\treturn t;\r\n};\r\n/**\r\n * 带微秒的时间戳转化为Date对象\r\n * 也就是javascript中Date.getTime()的时间戳\r\n * \r\n * @return {Date}\r\n */\r\nNumber.prototype.toDate = function() {\r\n\treturn this.toString().toDate();\r\n};\r\n/**\r\n * 此方法只是为了帮助开发者，无需了解数据的类型，都可以toDate\r\n * @return {[type]} [description]\r\n */\r\nDate.prototype.toDate = function() {\r\n\treturn this;\r\n};\r\n/**\r\n * 将Date格式化字符串的时间\r\n * \r\n * (unix时间戳 * 1000).toTimeString('%Y年%m月')  --> '2016年03月'\r\n * 'now'.toTimeString('%Y-%m-%d')  --> '2016-03-04'\r\n * (new Date('03/01/2016 23:59:30')).toString('%T')  --> '23:59:30'\r\n * \r\n * @param  {String} format_string %D %T %F %R %h %n %t %S %s %MS %M %H %d %m %B %b %Y %y %w %W %A %a %x %X %c 请参见PHP手册strftime函数 (ISO 9889:1999)\r\n * @return {String}               \r\n */\r\nDate.prototype.toString = function(format_string) {\r\n\tvar array_week = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', '&#26085;', '&#19968;', '&#20108;', '&#19977;', '&#22235;', '&#20116;', '&#20845;'];\r\n\tvar array_month = ['', 'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec'];\r\n\r\n\tvar y, m, d, h, i, s, ms, w, t;\r\n\ty = ~~this.getFullYear();\r\n\tm = ~~this.getMonth() + 1;\r\n\td = ~~this.getDate();\r\n\th = ~~this.getHours();\r\n\ti = ~~this.getMinutes();\r\n\ts = ~~this.getSeconds();\r\n\tms = ~~this.getMilliseconds();\r\n\tw = ~~this.getDay();\r\n\tt = ~~(this.getTime() / 1000);\r\n\r\n\tformat_string = format_string === undefined ? '%c' : format_string;\r\n\tvar _aggregates = {\r\n\t\t'D': '%m/%d/%y',\r\n\t\t'T': '%H:%M:%S', \r\n\t\t'F': '%y-%m-%d',\r\n\t\t'R': '%H:%M',\r\n\t\t'h': '%b'\r\n\t}\r\n\tvar f = {\r\n\t\t'%' : '%',\r\n\t\t'n': \"\\n\",\r\n\t\t't': \"\\t\",\r\n\t\t'S': s.pad(2,'0'),//Second\r\n\t\t's': t.toString(), //Stamp\r\n\t\t'MS': ms.toString(), //Millisecond\r\n\t\t'M': i.pad(2,'0'), //Minute\r\n\t\t'H': h.pad(2,'0'), //Hour\r\n\t\t'd': d.pad(2,'0'), //Day\r\n\t\t'm': m.pad(2,'0'), //Month(Int)\r\n\t\t'B': array_month[m], //January\r\n\t\t'b': array_month[m + 12], //Jan\r\n\t\t'Y': y.toString(), //Year\r\n\t\t'y': (y % 100).pad(2,'0'), //Year 00~99\r\n\t\t'w': w.toString(), //Week(Int)\r\n\t\t'W': w.toString(), //Week(Int)\r\n\t\t'A': array_week[w], //Monday\r\n\t\t'a': array_week[w + 7], //Mon\r\n\t\t'x': this.toLocaleDateString(), \r\n\t\t'X': this.toLocaleTimeString(),\r\n\t\t'c': this.toLocaleString()\r\n\t};\r\n\treturn format_string.toString().replace(/%[a-z]/ig, function($0, $1){\r\n\t\treturn _aggregates[$1] ? _aggregates[$1] : $0;\r\n\t}).replace(/%([a-z]|%|MS)/ig, function($0, $1){\r\n\t\treturn f[$1] ? f[$1] : $0;\r\n\t});\r\n};\r\n/**\r\n * 同上，但此函数会先尝试toDate\r\n */\r\nString.prototype.toTimeString = function(format_string) {\r\n\treturn this.toDate().toString(format_string);\r\n};\r\n/**\r\n * 同上，但此函数会先尝试toDate\r\n */\r\nNumber.prototype.toTimeString = function(format_string) {\r\n\treturn this.toString().toDate().toString(format_string);\r\n};\r\n/**\r\n * 同下，但如果传入的字符串不是数字将会返回原文\r\n */\r\nString.prototype.toCountDownString = function(format_string){\r\n\tvar count_down_ms = parseInt(this);\r\n\treturn isNaN(count_down_ms) ? this : count_down_ms.toCountDownString(format_string);\r\n};\r\n/**\r\n * 时间长度(微秒时间)，按制定格式返回\r\n * \r\n * 比如：播放时长为124秒，(124000).toCountDownString('时长：%H时%M分%S秒') \r\n * 返回 '时长：00时02分04秒'\r\n * \r\n * @param  {String} format_string %S %s %MS %ms %M %H %D\r\n * @return {[type]}               [description]\r\n */\r\nNumber.prototype.toCountDownString = function(format_string){\r\n\t\tvar d,h,m,s,ms,minus=false;\r\n\t\t//if (this < 0) minus = true;\r\n\t\tvar count_down_ms = Math.abs(parseInt(this));\r\n\t\tvar t = parseInt(count_down_ms / 1000);\r\n\t\td = parseInt(t / 60 / 60 / 24);\r\n\t\tif (format_string.indexOf('%D') < 0) d = 0;\r\n\t\th = parseInt(t / 60 / 60 - d * 24);\r\n\t\tif (format_string.indexOf('%H') < 0) h = 0;\r\n\t\tm = parseInt(t / 60 - d * 24 * 60 - h * 60);\r\n\t\tif (format_string.indexOf('%M') < 0) m = 0;\r\n\t\ts = t - d * 24 * 60 * 60 - h * 60 * 60 - m * 60;\r\n\t\tms = count_down_ms - t * 1000;\r\n\t\tvar f = format_string.replace(/%S/g,s.pad(2,'0'));//Second\r\n\t\tf = f.replace(/%s/g,t.toString());//Stamp\r\n\t\tf = f.replace(/%MS/g,ms.toString());//Millisecond\r\n\t\tf = f.replace(/%ms/g,count_down_ms.toString());//Millisecond Stamp\r\n\t\tf = f.replace(/%M/g,m.pad(2,'0'));//Minute\r\n\t\tf = f.replace(/%H/g,h.pad(2,'0'));//Hour\r\n\t\tf = f.replace(/%D/g,d.pad(2,'0'));//Day\r\n\t\treturn f;\r\n};\r\n/**\r\n * 检测客户端Flash的版本\r\n * \r\n * @return {String} 版本号\r\n */\r\nfunction flash_version()\r\n{\r\n\tvar a = !1,\r\n\tb = \"\";\r\n\r\n\tfunction c(d) {\r\n\t\td = d.match(/[\\d]+/g);\r\n\t\td.length = 3;\r\n\t\treturn d.join(\".\")\r\n\t}\r\n\tif (navigator.plugins && navigator.plugins.length) {\r\n\t\tvar e = navigator.plugins[\"Shockwave Flash\"];\r\n\t\te && (a = !0, e.description && (b = c(e.description)));\r\n\t\tnavigator.plugins[\"Shockwave Flash 2.0\"] && (a = !0, b = \"2.0.0.11\")\r\n\t} else {\r\n\t\tif (navigator.mimeTypes && navigator.mimeTypes.length) {\r\n\t\t\tvar f = navigator.mimeTypes[\"application/x-shockwave-flash\"];\r\n\t\t\t(a = f && f.enabledPlugin) && (b = c(f.enabledPlugin.description))\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\tvar g = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.7\"),\r\n\t\t\t\t\ta = !0,\r\n\t\t\t\t\tb = c(g.GetVariable(\"$version\"))\r\n\t\t\t} catch (h) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tg = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.6\"), a = !0, b = \"6.0.21\"\r\n\t\t\t\t} catch (i) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tg = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\"), a = !0, b = c(g.GetVariable(\"$version\"))\r\n\t\t\t\t\t} catch (j) {}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn a ? b : false;\r\n}\r\n/**\r\n * 将图片等比缩放到制定宽高\r\n * <img src=\"xxx\" onload=\"resizeImg(this, 300, 200);\">\r\n *  \r\n * @param  {ImageElement} imgObj  图片\r\n * @param  {Mumber} maxWidth  最大宽度\r\n * @param  {Mumber} maxHeight 最大高度\r\n */\r\nfunction resizeImg(img, maxWidth, maxHeight) {\r\n\tjQuery(img).css({'maxHeight': maxHeight, 'maxWidth': maxWidth});\r\n\tvar HeightWidth = img.offsetHeight / img.offsetWidth;\r\n\tvar WidthHeight = img.offsetWidth / img.offsetHeight;\r\n\tif(img.offsetWidth > maxWidth)\r\n\t\tjQuery(img).css({width : maxWidth, height : maxWidth * HeightWidth}); \r\n\tif(img.offsetHeight > maxHeight)\r\n\t\tjQuery(img).css({width : maxHeight * WidthHeight, height : maxHeight}); \r\n}\r\n\r\nif (window.location) {\r\n//support: ?id=123&a[]=1&a[2]=2&a[3][]=3\r\nwindow.location.query = function(param) {\r\n\tvar params = jQuery.deparam.querystring();\r\n\treturn params[param] ? params[param] : null;\r\n};\r\n}\r\n(function($){\r\n\t\r\n\t$.isUndefined = function(obj) {\r\n\t\treturn typeof obj == 'undefined';\r\n\t};\r\n\t$.isjQuery = function(obj) {\r\n\t\treturn obj instanceof jQuery;\r\n\t};\r\n\r\n\t/**\r\n\t * [alert description]\r\n\t * @param  {String} msg              [description]\r\n\t * @param  {[type]} confirm_callback [description]\r\n\t * @return {[type]}                  [description]\r\n\t */\r\n\t$.alert = function(msg, confirm_callback) {\r\n\t\tvar $dfd = jQuery.Deferred();\r\n\r\n\t\tif (typeof $.alert_interface != 'undefined')\r\n\t\t\t$.alert_interface(msg, confirm_callback, $dfd);\r\n\t\telse {\r\n\t\t\talert(msg);\r\n\t\t\tif (confirm_callback && $.isFunction(confirm_callback))\tconfirm_callback.call(this);\r\n\t\t\t$dfd.resolve();\r\n\t\t}\r\n\t\treturn $dfd.promise();\r\n\t};\r\n\r\n\t$.prompt = function(msg, confirm_callback, cancel_callback) {\r\n\t\tvar $dfd = jQuery.Deferred();\r\n\t\tvar _confirm = function(v){\r\n\t\t\tif (!v) return _cancel();\r\n\t\t\tif (confirm_callback && $.isFunction(confirm_callback)) confirm_callback.call(this,[v]);\r\n\t\t\t$dfd.resolve([v]);\r\n\t\t};\r\n\t\tvar _cancel = function(){\r\n\t\t\tif (cancel_callback && $.isFunction(cancel_callback)) cancel_callback.call(this);\r\n\t\t\t$dfd.reject();\r\n\t\t};\r\n\t\t\r\n\t\tif (typeof $.prompt_interface != 'undefined')\r\n\t\t\t$.prompt_interface(msg, _confirm, _cancel, $dfd);\r\n\t\telse {\r\n\t\t\tvar v = prompt(msg);\r\n\t\t\tif (v)\r\n\t\t\t\t_confirm(v);\r\n\t\t\telse\r\n\t\t\t\t_cancel();\r\n\t\t}\r\n\t\treturn $dfd.promise();\r\n\t};\r\n\r\n\t$.toast = function(msg, timeout) {\r\n\t\tvar $dfd = jQuery.Deferred();\r\n\t\tif (typeof $.toast_interface != 'undefined')\r\n\t\t\t$.toast_interface(msg, timeout, $dfd);\r\n\t\telse {\r\n\t\t\talert(msg);\r\n\t\t\t$dfd.resolve();\r\n\t\t}\r\n\t\treturn $dfd.promise();\r\n\t};\r\n\r\n\t$.confirm = function(msg, confirm_callback, cancel_callback) {\r\n\t\tvar $dfd = jQuery.Deferred();\r\n\t\tif (typeof $.confirm_interface != 'undefined')\r\n\t\t\t$.confirm_interface(msg, confirm_callback, cancel_callback, $dfd);\r\n\t\telse {\r\n\t\t\tif (confirm(msg)) {\r\n\t\t\t\tif (confirm_callback && $.isFunction(confirm_callback)) confirm_callback.call(this);\r\n\t\t\t\t$dfd.resolve();\r\n\t\t\t} else {\r\n\t\t\t\tif (cancel_callback && $.isFunction(confirm_callback)) cancel_callback.call(this);\r\n\t\t\t\t$dfd.reject();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn $dfd.promise();\r\n\t};\r\n\r\n\t$.fn.extend({checkAll : function($selector, callback) {\r\n\t\tif(!$.isjQuery($selector)) $selector = $($selector);\r\n\t\tvar t = this;\r\n\t\t$selector.on('click change', function(){\r\n\t\t\tvar length = $selector.length;\r\n\t\t\tvar checked_length = $selector.filter(':checked').length;\r\n\t\t\tt.prop({\r\n\t\t\t\t\"checked\": length == checked_length && length != 0,\r\n\t\t\t\t\"indeterminate\" : length != checked_length && checked_length != 0 \r\n\t\t\t});\r\n\t\t\tif (callback && $.isFunction(callback)) callback.call(t.add($selector), t.prop(\"checked\"), t.prop(\"indeterminate\"));\r\n\t\t});\r\n\t\treturn this.each(function(){\r\n\t\t\t$(this).on('click change', function(){\r\n\t\t\t\t$selector.prop('checked', this.checked);\r\n\t\t\t\tif (callback && $.isFunction(callback)) callback.call(t.add($selector), this.checked, false);\r\n\t\t\t});\r\n\t\t});\r\n\t}, count_down : function(format, delta, duration){ //delta = server microtime - client microtime\r\n\t\tif (format === false) return this.each(function(){\r\n\t\t\tvar interval = $(this).data('count-down-interval');clearInterval(interval); interval = null;\r\n\t\t});\r\n\t\tif (typeof delta == 'undefined') delta = 0;\r\n\t\treturn this.data({'count-down-delta' : delta, 'count-down-format' : format}).each(function(){\r\n\t\t\tvar $this = $(this);\r\n\t\t\tvar count_down_method = function() {\r\n\t\t\t\tvar count_down = $this.data('count-down');\r\n\t\t\t\tvar format =  $this.data('count-down-format');\r\n\t\t\t\tif (count_down) {\r\n\t\t\t\t\tvar target = count_down.toDate();\r\n\t\t\t\t\t$this.data('count_down',target);\r\n\t\t\t\t\tvar delta = parseInt($this.data('count-down-delta'));\r\n\t\t\t\t\tvar cd = target.getTime() - (new Date()).getTime() + delta;\r\n\t\t\t\t\tvar text = '';\r\n\t\t\t\t\tif ( cd > 0 ) {\r\n\t\t\t\t\t\tif (format) {\r\n\t\t\t\t\t\t\ttext = cd.toCountDownString(format);\r\n\t\t\t\t\t\t\tif($this.is(':input:not(button[value])')) $this.val(text); else $this.html(text);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$this.triggerHandler('count-down-ing',[cd, text]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar interval = $this.data('count-down-interval');\r\n\t\t\t\t\t\tclearInterval(interval); interval = null;\r\n\t\t\t\t\t\tif (format) {\r\n\t\t\t\t\t\t\tcd = 0; //to 0\r\n\t\t\t\t\t\t\ttext = cd.toCountDownString(format);\r\n\t\t\t\t\t\t\tif($this.is(':input:not(button[value])')) $this.val(text); else $this.html(text);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$this.triggerHandler('count-down-stop',[cd, text]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar interval = setInterval(count_down_method, typeof duration == 'undefined' || duration < 10 ? 500 : parseInt(duration));\r\n\t\t\t$this.data('count-down-interval', interval);\r\n\t\t\t$this.triggerHandler('count-down-start',[0, '']);\r\n\t\t\tcount_down_method.call(this); //call it\r\n\t\t});\r\n\t}\r\n\t});\r\n})(jQuery);"]}