{"version":3,"sources":["jquery.validate.addons.js"],"names":["$","getAnsiLength","b","ansi","length","a","match","parseInt","validator","prototype","getLength","value","element","t","data","nodeName","toLowerCase","this","checkable","findByName","name","filter","methods","equalTo","param","target","closest","settings","onfocusout","off","on","valid","val","addMethod","params","optional","RegExp","test","Math","abs","parseFloat","pattern","replace","regexp","exec","attributes","re","extend","jQuery","messages","required","remote","regex","email","url","date","dateISO","number","digits","timestamp","idcard","notzero","phone","timetick","creditcard","accept","maxlength","format","minlength","rangelength","range","max","min","fn","validate_addons","validate","callback","n","rules","ignore","submitHandler","form","event","isFunction","call","submit","success"],"mappings":"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","file":"jquery.validate.addons.min.js","sourcesContent":["(function($){\r\n//$.validator.autoCreateRanges = true;\r\n$.getAnsiLength = function(b, ansi) {\r\n\tif (typeof b != 'string' || !ansi) {\r\n\t\treturn b.length;\r\n\t}\r\n\tvar a = b.match(/[^\\x00-\\x80]/g);\r\n\treturn b.length + (a ? a.length * (parseInt(ansi) - 1) : 0);\r\n};\r\n$.validator.prototype.getLength = function (value, element) {\r\n\tvar t = $(element);\r\n\tvar ansi = t.data('ansi');\r\n\tswitch (element.nodeName.toLowerCase()) {\r\n\t\tcase \"select\":\r\n\t\t\treturn $.getAnsiLength($(\"option:selected\", element), ansi);\r\n\t\tcase \"input\":\r\n\t\t\tif (this.checkable(element)) {\r\n\t\t\t\treturn $.getAnsiLength(this.findByName(element.name).filter(\":checked\"), ansi);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\t\r\n\treturn $.getAnsiLength(value, ansi);\r\n};\r\n$.validator.methods.equalTo = function( value, element, param ) {\r\n\tvar target = $( param, element.closest('form') );\r\n\tif ( this.settings.onfocusout ) {\r\n\t\ttarget.off( \".validate-equalTo\" ).on( \"blur.validate-equalTo\", function() {\r\n\t\t\t$( element ).valid();\r\n\t\t});\r\n\t}\r\n\treturn value === target.val();\r\n};\r\n$.validator.addMethod('timestamp',function(value, element, params) {\r\n\treturn this.optional(element) || (new RegExp('^(1[1-9]\\\\d{2}|20\\\\d{2}|2100)-([0-1]?[1-9]|1[0-2])-([0-2]?[1-9]|3[0-1]|[1-2]0)(\\\\s([0-1]?\\\\d|2[0-3]):([0-5]?\\\\d)(:([0-5]?\\\\d))?)?$','ig')).test(value);\r\n});\r\n$.validator.addMethod('timetick',function(value, element, params) {\r\n\treturn this.optional(element) || (new RegExp('^([0-1]?\\\\d|2[0-3]):([0-5]?\\\\d)(:([0-5]?\\\\d))?$','ig')).test(value);\r\n});\r\n$.validator.addMethod('phone',function(value, element, params) {\r\n\treturn this.optional(element) || (new RegExp('^(((\\\\+86|086|17951)[\\\\-\\\\s])?1(3[0-9]|5[0-9]|7[01678]|8[0-9]|4[57])[\\\\-\\\\s]?[0-9]{4}[\\\\-\\\\s]?[0-9]{4}|(^0\\\\d{2}-?\\\\d{8}$)|(^0\\\\d{3}-?\\\\d{7}$)|(^\\\\(0\\\\d{2}\\\\)-?\\\\d{8}$)|(^\\\\(0\\\\d{3}\\\\)-?\\\\d{7}$))$','ig')).test(value);\r\n});\r\n$.validator.addMethod('idcard',function(value, element, params) {\r\n\treturn this.optional(element) || (new RegExp('^(^[1-9]\\\\d{7}((0\\\\d)|(1[0-2]))(([0|1|2]\\\\d)|3[0-1])\\\\d{3}$)|(^[1-9]\\\\d{5}[1-9]\\\\d{3}((0\\\\d)|(1[0-2]))(([0|1|2]\\\\d)|3[0-1])((\\\\d{4})|\\\\d{3}[x])$)$','ig')).test(value);\r\n});\r\n$.validator.addMethod('notzero',function(value, element, params) {\r\n\treturn this.optional(element) || Math.abs(parseFloat(value) - 0) > 0.00001;\r\n});\r\n$.validator.addMethod('regex', function(value, element, params) {\r\n\tvar pattern = params;\r\n\tpattern = pattern.replace(/(\\\\x\\{([a-f0-9]{0,4})\\})/gi,'\\\\u$2'); /*replace php's regexp to javascript*/\r\n\tvar regexp = new RegExp(/^([\\/#]?)(.+?)([\\/#]([igmu]+?))?$/ig).exec(pattern/*.replace('\\\\','\\\\\\\\')*/);/* read patten from a regexp*/\r\n\tpattern = regexp[2];\r\n\tvar attributes = regexp[4];\r\n\tif (typeof regexp[3] == 'undefined') {\r\n\t\tpattern = '^'+regexp[2]+'$';\r\n\t\tattributes = 'g';\r\n\t}\r\n\tvar re = new RegExp(pattern, attributes.replace('u',''));\r\n\treturn this.optional(element) || re.test(value);\r\n});\r\n$.validator.addMethod('ansi',function(value, element, params){\r\n\treturn true;\r\n});\r\n$.extend(jQuery.validator.messages, {\r\n\trequired: \"必填字段\",\r\n\tremote: \"已经存在，换一个试试？\",\r\n\tregex: \"类型不正确\",\r\n\temail: \"请输入正确格式的电子邮件\",\r\n\turl: \"请输入合法的网址\",\r\n\tdate: \"请输入合法的日期\",\r\n\tdateISO: \"请输入合法的日期 (ISO).\",\r\n\tnumber: \"请输入合法的数字\",\r\n\tdigits: \"只能输入整数\",\r\n\ttimestamp: \"请输入合法的日期(或时间)\",\r\n\tidcard: \"身份证类型不匹配\",\r\n\tnotzero: \"不能为0，或必须有值。\",\r\n\tphone: \"电话类型不匹配\", \r\n\ttimetick: \"请输入合法的时间\", \r\n\tcreditcard: \"请输入合法的信用卡号\",\r\n\tequalTo: \"请再次输入相同的值\", \r\n\taccept: \"请输入合法后缀名的字符串\",\r\n\tmaxlength: jQuery.validator.format(\"字符串长度最大为{0}个字\"),\r\n\tminlength: jQuery.validator.format(\"字符串长度最少为{0}个字\"),\r\n\trangelength: jQuery.validator.format(\"请输入一个长度介于{0}和{1}之间的字符串\"),\r\n\trange: jQuery.validator.format(\"请输入一个介于{0}和{1}之间的数字\"),\r\n\tmax: jQuery.validator.format(\"数值最大为{0}\"),\r\n\tmin: jQuery.validator.format(\"数值最小为{0}\")\r\n});\r\n\r\n//$.validator.setDefaults({ ignore: '' });\r\n$.fn.extend({validate_addons: function(validate, callback){\r\n\tfor(var n in validate.rules)\r\n\t\tif (validate.rules[n].ansi) $('[name=\"'+ n +'\"]', this).data({ansi: validate.rules[n].ansi});\r\n\tthis.validate({'ignore': '.ignore', 'rules': validate.rules, 'messages': validate.messages, 'submitHandler': function(form, event){\r\n\t\tif (callback && $.isFunction(callback) && !callback.call(this, form, event))\r\n\t\t\treturn false;\r\n\t\tform.submit();\r\n\t}, 'success': 'valid'});\r\n\treturn this;\r\n}\r\n});\r\n\r\n})(jQuery);"]}