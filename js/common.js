/*! common 2016-11-30 15:38:06*/
function probability_rand(e){var t=!1,r=0;for(var n in e)r+=parseFloat(e[n]);for(n in e){var i=rand(1,r),o=parseFloat(e[n]);if(i<=o){t=n;break}r-=o}return t}function bytesToSize(e){if(0===e)return"0 B";var t=1024,r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(e)/Math.log(t));return(e/Math.pow(t,n)).toPrecision(3)+" "+r[n]}function base(e,t,r){var n=t.apply(e,r);for(var i in t.prototype){var o=e.constructor.prototype;o[i]||(o[i]=t.prototype[i])}return n}function clone(e){var t;if("object"==typeof e)if(null===e)t=null;else if(e instanceof Array){t=[];for(var r=0,n=e.length;r<n;r++)t.push(clone(e[r]))}else{t={};for(var i in e)t[i]=clone(e[i])}else t=e;return t}function rand(e,t){var r=arguments.length;if(0===r)e=0,t=2147483647;else if(1===r)throw new Error("Warning: rand() expects exactly 2 parameters, 1 given");return Math.floor(Math.random()*(t-e+1))+e}function print_r(e,t){var r="",n=" ",i=4,o=(this.window.document,function(e){var t=/\W*function\s+([\w\$]+)\s*\(/.exec(e);return t?t[1]:"(Anonymous)"});return repeat_char=function(e,t){for(var r="",n=0;n<e;n++)r+=t;return r},formatArray=function(e,t,r,n){t>0&&t++;var i=repeat_char(r*t,n),a=repeat_char(r*(t+1),n),s="";if("object"==typeof e&&null!==e&&e.constructor&&"PHPJS_Resource"!==o(e.constructor)){s+="Array\n"+i+"(\n";for(var c in e)s+="[object Array]"===Object.prototype.toString.call(e[c])?a+"["+c+"] => "+formatArray(e[c],t+1,r,n):a+"["+c+"] => "+e[c]+"\n";s+=i+")\n"}else s=null===e||void 0===e?"":e.toString();return s},r=formatArray(e,0,i,n),t!==!0?(alert(r),!0):r}function array_change_key_case(e,t){var r,n,i={};if("[object Array]"===Object.prototype.toString.call(e))return e;if(e&&"object"==typeof e){r=t&&"CASE_LOWER"!==t?"toUpperCase":"toLowerCase";for(n in e)i[n[r]()]=e[n];return i}return!1}function serialize(e){var t,r,n,i="",o="",a=0,s=function(e){var t=0,r=0,n=e.length,i="";for(r=0;r<n;r++)i=e.charCodeAt(r),t+=i<128?1:i<2048?2:3;return t},c=function(e){var t,r,n,i,o=typeof e;if("object"===o&&!e)return"null";if("object"===o){if(!e.constructor)return"object";n=e.constructor.toString(),t=n.match(/(\w+)\(/),t&&(n=t[1].toLowerCase()),i=["boolean","number","string","array"];for(r in i)if(n===i[r]){o=i[r];break}}return o},u=c(e);switch(u){case"function":t="";break;case"boolean":t="b:"+(e?"1":"0");break;case"number":t=(Math.round(e)===e?"i":"d")+":"+e;break;case"string":t="s:"+s(e)+':"'+e+'"';break;case"array":case"object":t="a";for(r in e)if(e.hasOwnProperty(r)){if(i=c(e[r]),"function"===i)continue;n=r.match(/^[0-9]+$/)?parseInt(r,10):r,o+=serialize(n)+serialize(e[r]),a++}t+=":"+a+":{"+o+"}";break;default:t="N"}return"object"!==u&&"array"!==u&&(t+=";"),t}function unserialize(e){var t="undefined"!=typeof window?window:global,r=function(e){var t=e.charCodeAt(0),r=[338,339,352,353,376,402,8211,8212,8216,8217,8218,8220,8221,8222,8224,8225,8226,8230,8240,8364,8482];return t<128||t>=160&&t<=255||r.indexOf(t)!==-1?0:t<2048?1:2},n=function(e,r,n,i){throw new t[e](r,n,i)},i=function(e,t,r){for(var i=2,o=[],a=e.slice(t,t+1);a!==r;)i+t>e.length&&n("Error","Invalid"),o.push(a),a=e.slice(t+(i-1),t+i),i+=1;return[o.length,o.join("")]},o=function(e,t,n){var i,o,a;for(a=[],i=0;i<n;i++)o=e.slice(t+(i-1),t+i),a.push(o),n-=r(o);return[a.length,a.join("")]},a=function(e,t){var r,s,c,u,l,p,d,f,A,g,h,y,m,v,w,b,S,k,E=0,j=function(e){return e};switch(t||(t=0),r=e.slice(t,t+1).toLowerCase(),s=t+2,r){case"i":j=function(e){return parseInt(e,10)},A=i(e,s,";"),E=A[0],f=A[1],s+=E+1;break;case"b":j=function(e){return 0!==parseInt(e,10)},A=i(e,s,";"),E=A[0],f=A[1],s+=E+1;break;case"d":j=function(e){return parseFloat(e)},A=i(e,s,";"),E=A[0],f=A[1],s+=E+1;break;case"n":f=null;break;case"s":g=i(e,s,":"),E=g[0],h=g[1],s+=E+2,A=o(e,s+1,parseInt(h,10)),E=A[0],f=A[1],s+=E+2,E!==parseInt(h,10)&&E!==f.length&&n("SyntaxError","String length mismatch");break;case"a":for(f={},c=i(e,s,":"),E=c[0],u=c[1],s+=E+2,p=parseInt(u,10),l=!0,y=0;y<p;y++)v=a(e,s),w=v[1],m=v[2],s+=w,b=a(e,s),S=b[1],k=b[2],s+=S,m!==y&&(l=!1),f[m]=k;if(l){for(d=new Array(p),y=0;y<p;y++)d[y]=f[y];f=d}s+=1;break;default:n("SyntaxError","Unknown / Unhandled data type(s): "+r)}return[r,s-t,j(f)]};return a(e+"",0)[2]}function flash_version(){function e(e){return e=e.match(/[\d]+/g),e.length=3,e.join(".")}var t=!1,r="";if(navigator.plugins&&navigator.plugins.length){var n=navigator.plugins["Shockwave Flash"];n&&(t=!0,n.description&&(r=e(n.description))),navigator.plugins["Shockwave Flash 2.0"]&&(t=!0,r="2.0.0.11")}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var i=navigator.mimeTypes["application/x-shockwave-flash"];(t=i&&i.enabledPlugin)&&(r=e(i.enabledPlugin.description))}else try{var o=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),t=!0,r=e(o.GetVariable("$version"))}catch(n){try{o=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),t=!0,r="6.0.21"}catch(n){try{o=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),t=!0,r=e(o.GetVariable("$version"))}catch(e){}}}return!!t&&r}function resizeImg(e,t,r){jQuery(e).css({maxHeight:r,maxWidth:t});var n=e.offsetHeight/e.offsetWidth,i=e.offsetWidth/e.offsetHeight;e.offsetWidth>t&&jQuery(e).css({width:t,height:t*n}),e.offsetHeight>r&&jQuery(e).css({width:r*i,height:r})}!function(){var e=document.currentScript;if(!document.currentScript){var t=document.getElementsByTagName("script");e=t[t.length-1]}window.baseuri=e.src.toString().match(/[^\/:](\/.*)static\/js\/common\.js/i)?e.src.toString().match(/[^\/:](\/.*)static\/js\/common\.js/i)[1]:e.src.toString().replace(/\\/g,"/").replace(/\/[^\/]*\/?$/,"")+"/",window.baseuri||(window.baseuri="/"),jQuery&&(jQuery.baseuri=window.baseuri)}(),function(){window.OS={is_phone:/(Android|webOS|iPhone|Windows\sPhone|iPod|BlackBerry|SymbianOS)/i.test(navigator.userAgent),ios:/(iPod|iPhone|iPad)/i.test(navigator.userAgent),android:/Android/i.test(navigator.userAgent),symbian:/SymbianOS/i.test(navigator.userAgent),blackberry:/BlackBerry/i.test(navigator.userAgent),webos:/webOS/i.test(navigator.userAgent),wp:/Windows\sPhone/i.test(navigator.userAgent),wechat:/MicroMessenger/i.test(navigator.userAgent)},window.supportTransition=function(){var e=document.createElement("p").style,t="transition"in e||"WebkitTransition"in e||"MozTransition"in e||"msTransition"in e||"OTransition"in e;return e=null,t}(),window.window_size=function(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}}(),function(){if("undefined"!=typeof JSEncrypt&&window.sessionStorage){var e=function(){var e=window.sessionStorage.getItem("l+rsa");if(e&&(e=JSON.parse(e)),!e){var t=new JSEncrypt({default_key_size:1024}),r=t.getKey();e={private:r.getPrivateKey(),public:r.getPublicKey()},window.sessionStorage.setItem("l+rsa",JSON.stringify(e))}return e};window.ssl=new function(){this.rsa=e(),this.encrypt=function(e){var t=new JSEncrypt;return t.setKey(this.rsa.public),t.encrypt(e)},this.decrypt=function(e){var t=new JSEncrypt;return t.setKey(this.rsa.private),t.decrypt(e)}},jQuery&&(jQuery.ssl=window.ssl)}}(),function(){for(var e,t=function(){},r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],n=r.length,i=window.console=window.console||{};n--;)e=r[n],i[e]||(i[e]=t)}(),function(){for(var e=0,t=["ms","moz","webkit","o"],r=0;r<t.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[t[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[r]+"CancelAnimationFrame"]||window[t[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,r){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),o=window.setTimeout(function(){t(n+i)},i);return e=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var r=this.length>>>0;for(t=+t||0,Math.abs(t)===1/0&&(t=0),t<0&&(t+=r,t<0&&(t=0));t<r;t++)if(this[t]===e)return t;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(e){if("function"!=typeof e)throw new TypeError;for(var t=arguments[1],r=0,n=this.length;r<n&&!(r in this&&e.apply(t,[this[r],r,this])===!1);r++);}),Array.prototype.map||(Array.prototype.map=function(e){var t=this.length;if("function"!=typeof e)throw new TypeError;for(var r=new Array(t),n=arguments[1],i=0;i<t;i++)i in this&&(r[i]=e.call(n,this[i],i,this));return r}),Array.prototype.sum||(Array.prototype.sum=function(){var e=0;for(var t in this)isNaN(parseFloat(this[t]))||(e+=parseFloat(this[t]));return e}),String.prototype.repeat||(String.prototype.repeat=function(e){for(var t=this,r=this;r.length<e;)r+=t;return r=r.substr(0,e)}),String.prototype.toHTML=function(){return this.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},Number.prototype.toHTML=function(){return this.toString().toHTML()},String.prototype.toPre=function(){return this.replace(/\040/g,"&nbsp;").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br />$2")},String.prototype.noHTML=function(){return this.replace(/<script[^>]*?>.*?<\/script>/gi,"").replace(/<[\/\!]*?[^<>]*?>/g,"").replace(/<style[^>]*?>.*?<\/style>/gi,"").replace(/<![\s\S]*?--[ \t\n\r]*>/,"").replace(/([\r\n])[\s]+/,"").replace(/&(quot|#34|amp|#38|lt|#60|gt|#62|nbsp|#160)/i,"")},String.prototype.aLength=function(){var e=this.match(/[^\x00-\x80]/g);return this.length+(e?e.length:0)},String.prototype.pad=function(e,t,r){var n,i="",o=function(e,t){for(var r="";r.length<t;)r+=e;return r=r.substr(0,t)},a=this.toString()+"";return t=void 0!==t?t:" ","STR_PAD_LEFT"!==r&&"STR_PAD_RIGHT"!==r&&"STR_PAD_BOTH"!==r&&(r="STR_PAD_LEFT"),(n=e-a.length)>0&&("STR_PAD_LEFT"===r?a=o(t,n)+a:"STR_PAD_RIGHT"===r?a+=o(t,n):"STR_PAD_BOTH"===r&&(i=o(t,Math.ceil(n/2)),a=i+a+i,a=a.substr(0,e))),a},Number.prototype.pad=function(e,t,r){return t=void 0!==t?t:"0",this.toString().pad(e,t,r)},String.prototype.number_format=function(e,t,r){var n=(this+"").replace(/[^0-9+\-Ee.]/g,""),i=isFinite(+n)?+n:0,o=isFinite(+e)?Math.abs(e):0,a="undefined"==typeof r?",":r,s="undefined"==typeof t?".":t,c="",u=function(e,t){var r=Math.pow(10,t);return""+(Math.round(e*r)/r).toFixed(t)};return c=(o?u(i,o):""+Math.round(i)).split("."),c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a)),(c[1]||"").length<o&&(c[1]=c[1]||"",c[1]+=new Array(o-c[1].length+1).join("0")),c.join(s)},Number.prototype.number_format=function(e,t,r){return this.toString().number_format(e,t,r)},String.prototype.toDate=function(){var e=this;return isNaN(this)||(e=parseInt(this)),e=new Date(e),isNaN(e.getTime())&&(e=new Date),e},Number.prototype.toDate=function(){return this.toString().toDate()},Date.prototype.toDate=function(){return this},Date.prototype.toString=function(e){var t,r,n,i,o,a,s,c,u,l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat","&#26085;","&#19968;","&#20108;","&#19977;","&#22235;","&#20116;","&#20845;"],p=["","January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"];t=this.getFullYear(),r=this.getMonth()+1,n=this.getDate(),i=this.getHours(),o=this.getMinutes(),a=this.getSeconds(),s=this.getMilliseconds(),c=this.getDay(),u=parseInt(this.getTime()/1e3),e=void 0===e?"%c":e;var d=e.toString();return d=d.replace(/%%/g,"{-+-+-}%{/-+-+-}"),d=d.replace(/%D/g,"%m/%d/%y"),d=d.replace(/%T/g,"%H:%M:%S"),d=d.replace(/%F/g,"%y-%m-%d"),d=d.replace(/%R/g,"%H:%M"),d=d.replace(/%h/g,"%b"),d=d.replace(/%n/g,"\n"),d=d.replace(/%t/g,"\t"),d=d.replace(/%S/g,a.pad(2,"0")),d=d.replace(/%s/g,u.toString()),d=d.replace(/%MS/g,s.toString()),d=d.replace(/%M/g,o.pad(2,"0")),d=d.replace(/%H/g,i.pad(2,"0")),d=d.replace(/%d/g,n.pad(2,"0")),d=d.replace(/%m/g,r.pad(2,"0")),d=d.replace(/%B/g,p[r]),d=d.replace(/%b/g,p[r+12]),d=d.replace(/%Y/g,t.toString()),d=d.replace(/%y/g,(t%100).pad(2,"0")),d=d.replace(/%w/g,c.toString()),d=d.replace(/%W/g,c.toString()),d=d.replace(/%A/g,l[c]),d=d.replace(/%a/g,l[c+7]),d=d.replace(/%x/g,this.toLocaleDateString()),d=d.replace(/%X/g,this.toLocaleTimeString()),d=d.replace(/%c/g,this.toLocaleString()),d=d.replace("{-+-+-}%{/-+-+-}","%")},String.prototype.toTimeString=function(e){return this.toDate().toString(e)},Number.prototype.toTimeString=function(e){return this.toString().toDate().toString(e)},String.prototype.toCountDownString=function(e){var t=parseInt(this);return isNaN(t)?this:t.toCountDownString(e)},Number.prototype.toCountDownString=function(e){var t,r,n,i,o,a=Math.abs(parseInt(this)),s=parseInt(a/1e3);t=parseInt(s/60/60/24),e.indexOf("%D")<0&&(t=0),r=parseInt(s/60/60-24*t),e.indexOf("%H")<0&&(r=0),n=parseInt(s/60-24*t*60-60*r),e.indexOf("%M")<0&&(n=0),i=s-24*t*60*60-60*r*60-60*n,o=a-1e3*s;var c=e.replace(/%S/g,i.pad(2,"0"));return c=c.replace(/%s/g,s.toString()),c=c.replace(/%MS/g,o.toString()),c=c.replace(/%ms/g,a.toString()),c=c.replace(/%M/g,n.pad(2,"0")),c=c.replace(/%H/g,r.pad(2,"0")),c=c.replace(/%D/g,t.pad(2,"0"))},window.location&&(window.location.query=function(e){var t=jQuery.deparam.querystring();return t[e]?t[e]:null}),function(e){e.isUndefined=function(e){return"undefined"==typeof e},e.isjQuery=function(e){return e instanceof jQuery},e.alert=function(t,r){var n=jQuery.Deferred();return"undefined"!=typeof e.alert_interface?e.alert_interface(t,r,n):(alert(t),r&&e.isFunction(r)&&r.call(this),n.resolve()),n.promise()},e.prompt=function(t,r,n){var i=jQuery.Deferred(),o=function(t){return t?(r&&e.isFunction(r)&&r.call(this,[t]),void i.resolve([t])):a()},a=function(){n&&e.isFunction(n)&&n.call(this),i.reject()};if("undefined"!=typeof e.prompt_interface)e.prompt_interface(t,o,a,i);else{var s=prompt(t);s?o(s):a()}return i.promise()},e.tips=function(t,r){var n=jQuery.Deferred();return"undefined"!=typeof e.tips_interface?e.tips_interface(t,r,n):(alert(t),n.resolve()),n.promise()},e.confirm=function(t,r,n){var i=jQuery.Deferred();return"undefined"!=typeof e.confirm_interface?e.confirm_interface(t,r,n,i):confirm(t)?(r&&e.isFunction(r)&&r.call(this),i.resolve()):(n&&e.isFunction(r)&&n.call(this),i.reject()),i.promise()},e.fn.extend({checkAll:function(t,r){e.isjQuery(t)||(t=e(t));var n=this;return t.on("click change",function(){var i=t.length,o=t.filter(":checked").length;n.prop({checked:i==o&&0!=i,indeterminate:i!=o&&0!=o}),r&&e.isFunction(r)&&r.call(n.add(t),n.prop("checked"),n.prop("indeterminate"))}),this.each(function(){e(this).on("click change",function(){t.prop("checked",this.checked),r&&e.isFunction(r)&&r.call(n.add(t),this.checked,!1)})})},count_down:function(t,r,n){return t===!1?this.each(function(){var t=e(this).data("count-down-interval");clearInterval(t),t=null}):("undefined"==typeof r&&(r=0),this.data({"count-down-delta":r,"count-down-format":t}).each(function(){var t=e(this),r=function(){var e=t.data("count-down"),r=t.data("count-down-format");if(e){var n=e.toDate();t.data("count_down",n);var i=parseInt(t.data("count-down-delta")),o=n.getTime()-(new Date).getTime()+i,a="";if(o>0)r&&(a=o.toCountDownString(r),t.is(":input:not(button[value])")?t.val(a):t.html(a)),t.triggerHandler("count-down-ing",[o,a]);else{var s=t.data("count-down-interval");clearInterval(s),s=null,r&&(o=0,a=o.toCountDownString(r),t.is(":input:not(button[value])")?t.val(a):t.html(a)),t.triggerHandler("count-down-stop",[o,a])}}},i=setInterval(r,"undefined"==typeof n||n<10?500:parseInt(n));t.data("count-down-interval",i),t.triggerHandler("count-down-start",[0,""]),r.call(this)}))}})}(jQuery),function(e){e.QUERY_LANGUAGE={error:"\u9519\u8bef",reload:"\u91cd\u65b0\u8f7d\u5165",redirect:"\u9875\u9762\u8df3\u8f6c",unselected:"\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u9879\uff01",network_timeout:"\u7f51\u7edc\u6545\u969c\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5\u540e\u91cd\u8bd5\uff01",parser_error:"\u6570\u636e\u89e3\u6790\u5931\u8d25\uff0c\u5237\u65b0\u91cd\u8bd5\u4e0b\uff1f",server_error:"\u670d\u52a1\u5668\u53ef\u80fd\u51fa\u73b0\u4e86\u70b9\u95ee\u9898\uff0c\u5237\u65b0\u9875\u9762\u91cd\u8bd5\u4e0b\uff1f",encrypt_key:"\u6570\u636e\u5df2\u7ecf\u52a0\u5bc6\uff0c\u4f46\u672a\u4f20\u9012\u6b63\u786e\u7684\u516c\u94a5\u3002",encrypt_js:"\u6570\u636e\u5df2\u7ecf\u52a0\u5bc6\uff0c\u4f46\u9875\u9762\u672a\u52a0\u8f7d\u89e3\u5bc6JS\u3002",encrypt_string:"\u6570\u636e\u5df2\u7ecf\u52a0\u5bc6\uff0c\u4f46\u5bc6\u6587\u89e3\u5bc6\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u3002",encrypt_unserialize:"\u6570\u636e\u5df2\u7ecf\u52a0\u5bc6\uff0c\u4f46\u5bc6\u6587\u89e3\u5f00\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u3002"},e.csrf=e('meta[name="csrf-token"]').attr("content");var t={};e.csrf&&(t["X-CSRF-TOKEN"]=e.csrf),e.ssl&&(t["X-RSA"]=encodeURIComponent(e.ssl.rsa.public)),e.ajaxSetup({headers:t,dataFilter:function(t,r){var n=function(t){var r={};return r.result="error",r.message={title:e.QUERY_LANGUAGE.error,content:t},JSON.stringify(r)};if("json"==r.toLowerCase()){var i=e.parseJSON(t);if("undefined"!=typeof i&&"undefined"!=typeof i.result&&"api"==i.result&&"undefined"!=typeof i.encrypt&&i.encrypt===!0){var o,a;if("undefined"==typeof i.key||"undefined"==typeof e.ssl||!i.key)return n(i.key?e.QUERY_LANGUAGE.encrypt_js:e.QUERY_LANGUAGE.encrypt_key);try{o=e.ssl.decrypt(i.key)}catch(t){return console.log(t.stack),n(e.QUERY_LANGUAGE.encrypt_key+t.message)}encrypted=i.data;try{var s=base64js.toByteArray(encrypted);a=JSON.parse(aesjs.util.convertBytesToString(s))}catch(t){return console.log(t.stack),n(e.QUERY_LANGUAGE.encrypt_string+t.message)}try{var c=base64js.toByteArray(o),u=base64js.toByteArray(a.iv),l=base64js.toByteArray(a.value),p=new aesjs.ModeOfOperation.cbc(c,u),d=p.decrypt(l),f=aesjs.util.convertBytesToString(d);i.data=unserialize(f),delete i.key}catch(t){return console.log(t.stack),n(e.QUERY_LANGUAGE.encrypt_unserialize+t.message)}}delete i.encrypt,t=JSON.stringify(i),"undefined"!=typeof i.debug&&i.debug&&console.log(i)}return t}}),e.query=function(t,r,n,i,o){"undefined"==typeof o&&(o=!0),"undefined"==typeof n&&(n=r?"POST":"GET");var a=this,s=null,c={},u=r;r&&r instanceof String&&(u=e.deparam(r)),u&&u._method&&(n=u._method,c["X-HTTP-Method-Override"]=n),u&&u._token&&(c["X-CSRF-TOKEN"]=u._token);var l=e.ajax({url:t,data:u?u:null,async:i!==!1,cache:!1,type:n.toUpperCase(),headers:c,timeout:2e4,dataType:/[\?&](jsonp|callback)=\?/i.test(t)?"jsonp":"json",success:function(t,r,n){return t&&t.result&&o&&e.showtips(t,!0,o),i===!1?s=t:void(i&&e.isFunction(i)&&i.call(a,t,r,n))},error:function(t,r,n){if(o)switch(r){case"timeout":e.tips(e.QUERY_LANGUAGE.network_timeout);break;case"error":break;case"notmodified":break;case"parsererror":e.tips(e.QUERY_LANGUAGE.parser_error);break;default:e.tips(e.QUERY_LANGUAGE.server_error)}}});return i===!1?s:l},e.GET=function(t,r,n,i){return i="undefined"!=typeof i&&i,e.query.call(this,t,r,"GET",n,i)},e.POST=function(t,r,n,i){return i="undefined"!=typeof i&&i,e.query.call(this,t,r,"POST",n,i)},e.PUT=function(t,r,n,i){return i="undefined"!=typeof i&&i,e.query.call(this,t,r,"PUT",n,i)},e.DELETE=function(t,r,n,i){return i="undefined"!=typeof i&&i,e.query.call(this,t,r,"DELETE",n,i)},e.HEAD=function(t,r,n,i){return i="undefined"!=typeof i&&i,e.query.call(this,t,r,"HEAD",n,i)},e.PATCH=function(t,r,n,i){return i="undefined"!=typeof i&&i,e.query.call(this,t,r,"PATCH",n,i)},e.showtips=function(t,r,n){if("api"!=t.result){var i=clone(t),o="undefined"==typeof r||r;"undefined"!=typeof e.showtips_interface?e.showtips_interface(i,n):alert(i.message.content.noHTML()),o&&"undefined"!=typeof i.url&&(i.url!==!0&&i.url!==!1?setTimeout(function(){self.location.href=i.url},1500):i.url===!0&&setTimeout(function(){self.location.reload()},1500))}},e.fn.extend({query:function(t,r,n){return this.each(function(){var i=e(this),o=i.is("form");n="undefined"==typeof n||n;var a=o?i.data("validator"):null;a&&(a.settings.submitHandler=function(e,t){}),i.on(o?"submit":"click",function(s){var c=i.attr("selector");if(i.is(".disabled,[disabled]"))return!1;var u=o?i.add(c):e(c);if(a&&!e.isEmptyObject(a.invalid))return!1;if((c||o)&&u.serializeArray().length<=0)return e.tips(e.QUERY_LANGUAGE.unselected),!1;var l=i.attr(o?"action":"href"),p=i.attr("method"),d=i.attr("confirm"),f=function(){var a=o?e(":submit,:image",i):i;return a=a.filter(":not(.disabled,[disabled])"),a.prop("disabled",!0).attr("disabled","disabled").each(function(){var t=e(this),r=t.offset();n&&e('<div style="position:absolute;left:'+(r.left+t.width())+"px;top:"+(r.top-16)+'px;height:16px;width:16px;display:block;z-index:99999" class="query-loading"><img src="data:image/gif;base64,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"</div>').appendTo("body")}),e.query.call(i,l,u.serializeArray(),p,t,r).always(function(){e(".query-loading").remove(),a.prop("disabled",!1).removeAttr("disabled")})};return d?(d=d.replace("%L",u.serializeArray().length),e.confirm(d,f)):f.call(this),s.stopImmediatePropagation(),!1})})}})}(jQuery);
//# sourceMappingURL=common/common.js.map
